{"version":3,"sources":["components/layout/MainNavbar/MainNavbar.js","components/layout/MainSidebar/SidebarMainNavbar.js","components/layout/MainSidebar/SidebarNavItem.js","components/layout/MainSidebar/SidebarNavItems.js","data/sidebar-nav-items.js","components/layout/MainSidebar/MainSidebar.js","components/layout/MainFooter.js","layouts/Default.js","components/common/PageTitle.js","backend/common.js","components/common/RangeDatePicker.js","components/graphs/PriceGraph.js","backend/historic.js","components/layout/overview/PorkGraph.js","components/common/SmallStats.js","components/graphs/SumUp.js","views/PorkStats.js","components/layout/overview/EuropeGraph.js","views/EuropePorkStats.js","backend/cereal.js","components/layout/overview/TrigoGraph.js","components/graphs/TrigoSumUp.js","views/TrigoStats.js","components/layout/overview/CebadaGraph.js","components/graphs/CebadaSumUp.js","views/CebadaStats.js","components/layout/overview/MaizGraph.js","components/graphs/MaizSumUp.js","views/MaizStats.js","components/layout/overview/ArrozGraph.js","components/graphs/ArrozSumUp.js","views/ArrozStats.js","views/HistoricPork.js","views/HistoricCereal.js","views/Errors.js","history.js","App.js","routes.js","serviceWorker.js","index.js"],"names":["MainNavbar","stickyTop","classes","classNames","className","type","defaultProps","SidebarMainNavbar","React","Component","render","hideLogoText","this","props","href","style","lineHeight","SidebarNavItem","item","tag","RouteNavLink","to","htmlBefore","dangerouslySetInnerHTML","__html","title","htmlAfter","SidebarNavItems","constructor","super","state","navItems","componentWillMount","setState","map","idx","key","MainSidebar","menuVisible","lg","size","md","MainFooter","contained","menuItems","copyright","fluid","Link","version","date","DefaultLayout","children","noNavbar","noFooter","offset","sm","PageTitle","subtitle","attrs","xs","base","parseDate","moment","format","startOf","endOf","getWeekDays","startOfWeek","endOfWeek","days","day","push","toDate","clone","add","doGet","path","params","callback","a","url","URL","Object","keys","forEach","searchParams","append","fetch","method","mode","credentials","headers","redirect","referrerPolicy","response","json","data","RangeDatePicker","startDate","handleStartDateChange","endDate","handleEndDateChange","selected","onChange","placeholderText","dropdownMode","showWeekNumbers","locale","dateFormat","showYearDropdown","highlightDates","PriceGraph","chartData","options","chartOptions","height","datatype","layout","padding","left","right","responsive","legend","position","elements","line","tension","point","radius","scales","xAxes","ticks","yAxes","hover","intersect","tooltips","custom","labels","datasets","label","fill","getHistoryData","PorkGraph","today","Date","setFullYear","getFullYear","undefined","changeType","bind","componentDidMount","getData","from","utc","all_data","all_dates","element","_id","tmp_data","length","onedata","market","value","event","currentTarget","small","onClick","autoskip","maxTicksLimit","SmallStats","max","Math","suggestedMax","variation","percentage","increase","cardClasses","cardBodyClasses","innerWrapperClasses","dataFieldClasses","labelClasses","valueClasses","innerDataFieldClasses","percentageClasses","parseFloat","toFixed","maintainAspectRatio","display","gridLines","scaleLabel","isplay","chartLabels","SumUp","smallStats","aggregateData","aggregatedDates","stats","aggegatedata","decrease","id","borderWidth","backgroundColor","borderColor","PorkStats","theme","noGutters","EuropeGraph","getEuropeData","markets","country","price","hidden","EuropePorkStats","getCerealData","TrigoGraph","text","TrigoSumUp","open","toggle","click","prevState","name","TrigoStats","pathname","cereal","CebadaGraph","CebadaSumUp","CebadaStats","MaizGraph","MaizSumUp","MaizStats","ArrozGraph","ArrozSumUp","ArrozStats","HistoricPork","console","log","final","key2","hasOwnProperty","entries","index","scrollY","maxHeight","striped","paging","columns","field","sort","width","rows","HistoricCereal","location","createMarkets","m","slice","Errors","useState","setredirect","pill","createBrowserHistory","registerLocale","es","basename","exact","component","route","history","Boolean","window","hostname","match","ReactDOM","App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","resolve"],"mappings":"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","file":"static/js/main.37ef0c0d.chunk.js","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport classNames from \"classnames\";\nimport { Container, Navbar } from \"shards-react\";\n\nconst MainNavbar = ({ stickyTop }) => {\n  const classes = classNames(\n    \"main-navbar\",\n    \"bg-white\",\n    stickyTop && \"sticky-top\"\n  );\n\n\n//<NavbarSearch />\n  return (\n    <div className={classes}>\n      <Container className=\"p-0\">\n        <Navbar type=\"light\" className=\"align-items-stretch flex-md-nowrap p-0 \">\n        </Navbar>\n      </Container>\n    </div>\n  );\n};\n\nMainNavbar.propTypes = {\n  /**\n   * The layout type where the MainNavbar is used.\n   */\n  layout: PropTypes.string,\n  /**\n   * Whether the main navbar is sticky to the top, or not.\n   */\n  stickyTop: PropTypes.bool\n};\n\nMainNavbar.defaultProps = {\n  stickyTop: true\n};\n\nexport default MainNavbar;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Navbar, NavbarBrand } from \"shards-react\";\n\nclass SidebarMainNavbar extends React.Component {\n  render() {\n    const { hideLogoText } = this.props;\n    return (\n      <div className=\"main-navbar\">\n        <Navbar\n          className=\"align-items-stretch bg-white flex-md-nowrap border-bottom p-0\"\n          type=\"light\"\n        >\n          <NavbarBrand\n            className=\"w-100 mr-0\"\n            href=\"/\"\n            style={{ lineHeight: \"25px\" }}\n          >\n            <div className=\"d-table m-auto\">\n              \n              {!hideLogoText && (\n                <span className=\"d-none d-md-inline ml-1\">\n                  Datos Agropecuarios\n                </span>\n              )}\n            </div>\n          </NavbarBrand>\n          {/* eslint-disable-next-line */}\n          <a\n            className=\"toggle-sidebar d-sm-inline d-md-none d-lg-none\"\n          >\n            <i className=\"material-icons\">&#xE5C4;</i>\n          </a>\n        </Navbar>\n      </div>\n    );\n  }\n}\n\nSidebarMainNavbar.propTypes = {\n  /**\n   * Whether to hide the logo text, or not.\n   */\n  hideLogoText: PropTypes.bool\n};\n\nSidebarMainNavbar.defaultProps = {\n  hideLogoText: false\n};\n\nexport default SidebarMainNavbar;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { NavLink as RouteNavLink } from \"react-router-dom\";\nimport { NavItem, NavLink } from \"shards-react\";\n\nconst SidebarNavItem = ({ item }) => (\n  <NavItem>\n    <NavLink tag={RouteNavLink} to={item.to}>\n      {item.htmlBefore && (\n        <div\n          className=\"d-inline-block item-icon-wrapper\"\n          dangerouslySetInnerHTML={{ __html: item.htmlBefore }}\n        />\n      )}\n      {item.title && <span>{item.title}</span>}\n      {item.htmlAfter && (\n        <div\n          className=\"d-inline-block item-icon-wrapper\"\n          dangerouslySetInnerHTML={{ __html: item.htmlAfter }}\n        />\n      )}\n    </NavLink>\n  </NavItem>\n);\n\nSidebarNavItem.propTypes = {\n  /**\n   * The item object.\n   */\n  item: PropTypes.object\n};\n\nexport default SidebarNavItem;\n","import React from \"react\";\nimport { Nav } from \"shards-react\";\n\nimport SidebarNavItem from \"./SidebarNavItem\";\nimport getNavItems from \"../../../data/sidebar-nav-items\"\n\n\nclass SidebarNavItems extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      navItems: []\n    };\n  }\n\n  componentWillMount() {\n    this.setState({navItems: getNavItems()});\n  }\n\n\n  render() {\n\n    return (\n      <div className=\"nav-wrapper\">\n        <Nav className=\"nav--no-borders flex-column\">\n          {this.state.navItems.map((item, idx) => (\n            <SidebarNavItem key={idx} item={item} />\n          ))}\n        </Nav>\n      </div>\n    )\n  }\n}\n\n\nexport default SidebarNavItems;\n","export default function() {\n  return [\n    {\n      title: \"Porcino\",\n      to: \"/porkStats\",\n      htmlBefore: '<i class=\"material-icons\">pets</i>',\n      htmlAfter: \"\"\n    },\n    {\n      title: \"Arroz\",\n      to: \"/arroz\",\n      htmlBefore: '<i class=\"material-icons\">spa</i>',\n      htmlAfter: \"\"\n    },\n    {\n      title: \"Cebada\",\n      to: \"/cebada\",\n      htmlBefore: '<i class=\"material-icons\">spa</i>',\n      htmlAfter: \"\"\n    },\n    {\n      title: \"Maiz\",\n      to: \"/maiz\",\n      htmlBefore: '<i class=\"material-icons\">spa</i>',\n      htmlAfter: \"\"\n    },\n    {\n      title: \"Trigo\",\n      to: \"/trigo\",\n      htmlBefore: '<i class=\"material-icons\">spa</i>',\n      htmlAfter: \"\"\n    }\n  ];\n}\n","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport classNames from \"classnames\";\nimport { Col } from \"shards-react\";\n\nimport SidebarMainNavbar from \"./SidebarMainNavbar\";\nimport SidebarNavItems from \"./SidebarNavItems\";\n\n\nclass MainSidebar extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      menuVisible: false,\n    };\n  }\n\n  render() {\n    const classes = classNames(\n      \"main-sidebar\",\n      \"px-0\",\n      \"col-12\",\n      this.state.menuVisible && \"open\"\n    );\n\n    return (\n      <Col\n        tag=\"aside\"\n        className={classes}\n        lg={{ size: 2 }}\n        md={{ size: 3 }}\n      >\n        <SidebarMainNavbar hideLogoText={this.props.hideLogoText} />\n        <SidebarNavItems />\n      </Col>\n    );\n  }\n}\n\nMainSidebar.propTypes = {\n  /**\n   * Whether to hide the logo text, or not.\n   */\n  hideLogoText: PropTypes.bool\n};\n\nMainSidebar.defaultProps = {\n  hideLogoText: false\n};\n\nexport default MainSidebar;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Container, Row, Nav, NavItem, NavLink } from \"shards-react\";\nimport { Link } from \"react-router-dom\";\nimport { version, date } from \"../../../package.json\";\n\n\nconst MainFooter = ({ contained, menuItems, copyright }) => (\n  <footer className=\"main-footer d-flex p-2 px-3 bg-white border-top\">\n    <Container fluid={contained}>\n      <Row>\n        <Nav>\n          {menuItems.map((item, idx) => (\n            <NavItem key={idx}>\n              <NavLink tag={Link} to={item.to}>\n                {item.title}\n              </NavLink>\n            </NavItem>\n          ))}\n        </Nav>\n        <span className=\"copyright ml-auto my-auto mr-2\">{copyright}</span>\n        <span className=\"copyright ml-auto my-auto mr-2\">{`V${version} ${date}`}</span>\n      </Row>\n    </Container>\n  </footer>\n);\n\nMainFooter.propTypes = {\n  /**\n   * Whether the content is contained, or not.\n   */\n  contained: PropTypes.bool,\n  /**\n   * The menu items array.\n   */\n  menuItems: PropTypes.array,\n  /**\n   * The copyright info.\n   */\n  copyright: PropTypes.string\n};\n\nMainFooter.defaultProps = {\n  contained: false,\n  copyright: \"Copyright © 2018 DesignRevision\",\n  menuItems: [\n  ]\n};\n\nexport default MainFooter;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Container, Row, Col } from \"shards-react\";\n\nimport MainNavbar from \"../components/layout/MainNavbar/MainNavbar\";\nimport MainSidebar from \"../components/layout/MainSidebar/MainSidebar\";\nimport MainFooter from \"../components/layout/MainFooter\";\n\nconst DefaultLayout = ({ children, noNavbar, noFooter }) => (\n  <Container fluid>\n    <Row>\n      <MainSidebar />\n      <Col\n        className=\"main-content p-0\"\n        lg={{ size: 10, offset: 2 }}\n        md={{ size: 9, offset: 3 }}\n        sm=\"12\"\n        tag=\"main\"\n      >\n        {!noNavbar && <MainNavbar />}\n        {children}\n        {!noFooter && <MainFooter />}\n      </Col>\n    </Row>\n  </Container>\n);\n\nDefaultLayout.propTypes = {\n  /**\n   * Whether to display the navbar, or not.\n   */\n  noNavbar: PropTypes.bool,\n  /**\n   * Whether to display the footer, or not.\n   */\n  noFooter: PropTypes.bool\n};\n\nDefaultLayout.defaultProps = {\n  noNavbar: false,\n  noFooter: false\n};\n\nexport default DefaultLayout;\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport PropTypes from \"prop-types\";\nimport { Col } from \"shards-react\";\n\nconst PageTitle = ({ title, subtitle, className, ...attrs }) => {\n  const classes = classNames(\n    className,\n    \"text-center\",\n    \"text-md-left\",\n    \"mb-sm-0\"\n  );\n\n  return (\n    <Col xs=\"12\" sm=\"4\" className={classes} { ...attrs }>\n      <h3 className=\"page-title\">{title}</h3>\n      <span className=\"text-uppercase page-subtitle\">{subtitle}</span>\n    </Col>\n  )\n};\n\nPageTitle.propTypes = {\n  /**\n   * The page title.\n   */\n  title: PropTypes.string,\n  /**\n   * The page subtitle.\n   */\n  subtitle: PropTypes.string\n};\n\nexport default PageTitle;\n","import moment from \"moment\";\n//const base = \"http://192.168.99.100:7081\"\n//const base = \"http://localhost:7081\"\nconst base = \"http://51.210.10.251:7081\"\n\n\nfunction parseDate(date) {\n    return `${moment(date).format('Wo')} ${moment(date).startOf('isoWeek').format(\"DD\")}-${moment(date).endOf('isoWeek').format(\"DD\")}/${moment(date).format(\"MM YYYY\")}`;\n}\n\nfunction getWeekDays(date){\n    const startOfWeek = moment(date).startOf('isoWeek');\n    const endOfWeek = moment(date).endOf('isoWeek');\n\n    const days = [];\n    let day = startOfWeek;\n\n    while (day <= endOfWeek) {\n        days.push(day.toDate());\n        day = day.clone().add(1, 'd');\n    }\n    return days\n\n}\n\nasync function doGet(path, params, callback){\n    const url = new URL(path, base)\n    Object.keys(params).forEach(key => url.searchParams.append(key, params[key]));\n    //console.log(\"###doGet###\")\n    try{\n        let response = await fetch(url, {\n            method: 'GET', // *GET, POST, PUT, DELETE, etc.\n            mode: 'cors', // no-cors, *cors, same-origin\n            credentials: 'include', // include, *same-origin, omit\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            redirect: 'follow', // manual, *follow, error\n            referrerPolicy: 'no-referrer', // no-referrer, *client\n        })\n        let data = await response.json()\n        callback(data)\n    }catch(err){\n        //console.log(\"Error doGet\", err)\n    }\n\n}\nasync function doPost(path, params, body, callback){\n    const url = new URL(path, base)\n    Object.keys(params).forEach(key => url.searchParams.append(key, params[key]));\n    //console.log(\"###doPost###\",url)\n    try{\n        let response = await fetch(url, {\n            method: 'POST', // *GET, POST, PUT, DELETE, etc.\n            mode: 'cors', // no-cors, *cors, same-origin\n            credentials: 'include', // include, *same-origin, omit\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            redirect: 'follow', // manual, *follow, error\n            referrerPolicy: 'no-referrer', // no-referrer, *client\n            body: JSON.stringify(body) // body data type must match \"Content-Type\" header\n        })\n        let data = await response.json()\n        callback(data)\n    }catch(err){\n        //console.log(\"error doPost\", err)\n    }\n}\n\nasync function doDelete(path, params, callback){\n    const url = new URL(path, base)\n    Object.keys(params).forEach(key => url.searchParams.append(key, params[key]));\n    //console.log(\"###doDELETE###\",url)\n    try{\n        let response = await fetch(url, {\n            method: 'DELETE', // *GET, POST, PUT, DELETE, etc.\n            mode: 'cors', // no-cors, *cors, same-origin\n            credentials: 'include', // include, *same-origin, omit\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            redirect: 'follow', // manual, *follow, error\n            referrerPolicy: 'no-referrer', // no-referrer, *client\n        })\n        let data = await response.json()\n        //console.log(\"Response \", data)\n        callback(data);\n    }catch (err) {\n        //console.log(\"error doDelete\", err)\n    }\n\n\n}\n\nexport {parseDate, doGet, doPost, doDelete, getWeekDays}","import React from \"react\";\nimport classNames from \"classnames\";\nimport {\n  InputGroup,\n  DatePicker,\n  InputGroupAddon,\n  InputGroupText\n} from \"shards-react\";\nimport \"../../assets/range-date-picker.css\";\nimport moment from \"moment\";\nimport {getWeekDays} from \"../../backend/common\";\n\n\n\nconst RangeDatePicker = ({startDate, handleStartDateChange, endDate, handleEndDateChange}) => {\n    const classes = classNames(\"d-flex\", \"my-auto\", \"date-range\");\n\n    return (\n        <InputGroup className={classes}>\n            <DatePicker\n                size=\"sm\"\n                selected={startDate}\n                onChange={handleStartDateChange}\n                placeholderText=\"Desde\"\n                dropdownMode=\"select\"\n                className=\"text-center\"\n                showWeekNumbers\n                locale={\"es\"}\n                dateFormat={`wo yyyy '(${moment(startDate).startOf('isoWeek').format(\"DD MMM\")} - ${moment(startDate).endOf('isoWeek').format(\"DD MMM\")})'`}\n                showYearDropdown\n                highlightDates={getWeekDays(startDate)}\n            />\n            <DatePicker\n                size=\"sm\"\n                selected={endDate}\n                onChange={handleEndDateChange}\n                placeholderText=\"Hasta\"\n                dropdownMode=\"select\"\n                className=\"text-center\"\n                locale={\"es\"}\n                showWeekNumbers\n                dateFormat={`wo yyyy '(${moment(endDate).startOf('isoWeek').format(\"DD MMM\")} - ${moment(endDate).endOf('isoWeek').format(\"DD MMM\")})'`}\n                showYearDropdown\n                highlightDates={getWeekDays(endDate)}\n            />\n            <InputGroupAddon type=\"append\">\n                <InputGroupText>\n                    <i className=\"material-icons\">&#xE916;</i>\n                </InputGroupText>\n            </InputGroupAddon>\n        </InputGroup>\n    );\n}\n\nexport default RangeDatePicker;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport {Line} from 'react-chartjs-2';\n\n\nclass PriceGraph extends React.Component {\n\n  render() {\n    return (\n          <Line data={this.props.chartData} options={this.props.chartOptions} height={80}/>\n    );\n  }\n}\n\nPriceGraph.propTypes = {\n  /**\n   * The component's title.\n   */\n  title: PropTypes.string,\n  /**\n   * The chart dataset.\n   */\n  chartData: PropTypes.object,\n  /**\n   * The Chart.js options.\n   */\n  chartOptions: PropTypes.object,\n\n  datatype: PropTypes.string\n};\n\nPriceGraph.defaultProps = {\n  datatype: \"Selecto\",\n  title: \"Price Overview\",\n  chartOptions: {\n    layout: {\n      padding:{\n        left: 10,\n        right: 50\n      }\n    },\n    responsive: true,\n    legend: {\n      position: \"top\"\n    },\n    elements: {\n      line: {\n        // A higher value makes the line look skewed at this ratio.\n        tension: 0.3\n      },\n      point: {\n        radius: 20\n      }\n    },\n    scales: {\n      xAxes: [\n        {\n          ticks: {\n\n          }\n        }\n      ],\n      yAxes:[{\n        ticks: {\n          padding: 10\n        }\n      }]\n    },\n    hover: {\n      mode: \"nearest\",\n      intersect: false\n    },\n    tooltips: {\n      custom: false,\n      mode: \"nearest\",\n      intersect: false\n    }\n  },\n  chartData: {\n    labels: [],\n    datasets: [\n      {\n        label: \"Zaragoza\",\n        fill: \"start\",\n        data: [\n          0\n        ],\n        \"backgroundColor\": \"rgba(0,123,255,0.1)\",\n        \"borderColor\": \"rgba(0,123,255,1)\",\n        \"pointBackgroundColor\": \"#ffffff\",\n        \"pointHoverBackgroundColor\": \"rgb(0,123,255)\",\n        \"borderWidth\": 1.5,\n        \"pointRadius\": 0,\n        \"pointHoverRadius\": 3\n      },\n      {\n        \"label\": \"Lerida\",\n        \"fill\": \"start\",\n        \"data\": [\n          0\n        ],\n        \"backgroundColor\": \"rgba(255,65,105,0.1)\",\n        \"borderColor\": \"rgba(255,65,105,1)\",\n        \"pointBackgroundColor\": \"#ffffff\",\n        \"pointHoverBackgroundColor\": \"rgba(255,65,105,1)\",\n        \"borderDash\": [3, 3],\n        \"borderWidth\": 1,\n        \"pointRadius\": 0,\n        \"pointHoverRadius\": 2,\n        \"pointBorderColor\": \"rgba(255,65,105,1)\"\n      }\n    ]\n  }\n};\n\nexport default PriceGraph;\n","import {doGet} from \"./common\";\n\nfunction getHistoryData(params, callback){\n  //console.log(\"### GetHistoryData\", params);\n  doGet(\"/historical/aggregate\", params, callback)\n}\n\nfunction getEuropeData(params, callback){\n  //console.log(\"### GetHistoryData\", params);\n  doGet(\"/historical/europe\", params, callback)\n}\n\n\n\nexport  {getHistoryData, getEuropeData}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Card, CardHeader, CardBody, Button } from \"shards-react\";\nimport moment from 'moment';\nimport RangeDatePicker from \"../../common/RangeDatePicker\";\n\nimport PriceGraph from \"../../graphs/PriceGraph\";\nimport {getHistoryData} from \"../../../backend/historic\";\nimport {parseDate} from \"../../../backend/common\";\n\n\nclass PorkGraph extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const today = new Date()\n    this.state = {\n      datatype: \"Selecto\",\n      chartData: this.props.chartData,\n      startDate: today.setFullYear(today.getFullYear()-2),\n      endDate: undefined\n    };\n    this.changeType = this.changeType.bind(this);\n    this.handleStartDateChange = this.handleStartDateChange.bind(this);\n    this.handleEndDateChange = this.handleEndDateChange.bind(this)\n  }\n\n  componentDidMount() {\n    this.getData()\n  }\n\n  getData(){\n    const params = {type: this.state.datatype}\n    if (this.state.startDate != null){\n      params.from = moment.utc(this.state.startDate).format(\"DD-MM-YYYY\")\n    }\n    if (this.state.endDate != null){\n      params.to = moment.utc(this.state.endDate).format(\"DD-MM-YYYY\")\n    }\n\n    getHistoryData(params,(data) => {\n      let all_data = {'Lerida':[], 'Binefar': [], 'Barcelona': [], 'Huesca': [], 'Murcia': [], 'Pontevedra': [], 'Salamanca': [], 'Segovia': []};\n      let all_dates = [];\n      data.forEach((element) => {\n        let date = parseDate(element._id);\n        let data = element.data;\n        const tmp_data = {'Lerida':null, 'Binefar': null, 'Barcelona': null, 'Huesca': null, 'Murcia': null, 'Pontevedra': null, 'Salamanca': null, 'Segovia': null};;\n        if (data.length > 0){\n          data.forEach((onedata) =>{\n            tmp_data[onedata.market] = onedata.value\n          });\n          all_data[\"Lerida\"].push(tmp_data[\"Lerida\"])\n          all_data[\"Binefar\"].push(tmp_data[\"Binefar\"])\n          all_data[\"Barcelona\"].push(tmp_data[\"Barcelona\"])\n          all_data[\"Huesca\"].push(tmp_data[\"Huesca\"])\n          all_data[\"Murcia\"].push(tmp_data[\"Murcia\"])\n          all_data[\"Pontevedra\"].push(tmp_data[\"Pontevedra\"])\n          all_data[\"Salamanca\"].push(tmp_data[\"Salamanca\"])\n          all_data[\"Segovia\"].push(tmp_data[\"Segovia\"])\n          all_dates.push(date)\n        }\n      });\n      let base = this.state.chartData;\n      base.labels = all_dates;\n      base.datasets[0].data = all_data['Binefar'];\n      base.datasets[1].data = all_data['Lerida'];\n      base.datasets[2].data = all_data['Barcelona'];\n      base.datasets[3].data = all_data['Huesca'];\n      base.datasets[4].data = all_data['Murcia'];\n      base.datasets[5].data = all_data['Pontevedra'];\n      base.datasets[6].data = all_data['Salamanca'];\n      base.datasets[7].data = all_data['Segovia'];\n      this.setState({\n        datatype: this.state.datatype,\n        chartData: base\n      });\n      //console.log(this.state.chartData)\n    })};\n\n\n  changeType(event) {\n    //console.log(\"change_type\");\n    this.setState({\n      datatype: event.currentTarget.value\n    }, () => {\n      this.getData()\n    })\n  }\n\n    handleStartDateChange(value){\n      this.setState({startDate: new Date(value)},()=>{\n        this.getData()\n      })\n\n    }\n    handleEndDateChange(value){\n      this.setState({endDate: new Date(value)},()=>{\n        this.getData()\n      })\n    }\n\n  render() {\n    const { title } = this.props;\n    return (\n      <Card small className=\"h-10\">\n        <CardHeader className=\"border-bottom\">\n          <h6 className=\"m-0\">{title}</h6>\n        </CardHeader>\n        <CardBody className=\"pt-0\">\n          <div className=\"border-bottom py-2 bg-light d-flex flex-row\">\n            <div sm=\"7\" className=\"d-flex mb-2 mb-sm-0 mr-auto\">\n              <RangeDatePicker startDate={this.state.startDate} endDate={this.state.endDate} handleEndDateChange={this.handleEndDateChange} handleStartDateChange={this.handleStartDateChange}/>\n            </div>\n            <div className=\"d-flex flex-row\">\n              <Button\n                size=\"sm\"\n                value=\"Selecto\"\n                className={\"d-flex btn-white ml-auto mr-2 ml-sm-auto mt-3 mt-sm-0\" + (this.state.datatype === \"Selecto\"? \" active\": \"\")}\n                onClick={this.changeType}\n              >\n                Selecto\n              </Button>\n              <Button\n                size=\"sm\"\n                value=\"Normal\"\n                className={\"d-flex btn-white ml-auto mr-2 ml-sm-auto mt-3 mt-sm-0 \"+ (this.state.datatype === \"Normal\"? \" active\": \"\")}\n                onClick={this.changeType}\n              >\n                Normal\n              </Button>\n              <Button\n                size=\"sm\"\n                value=\"Graso\"\n                className={\"d-flex btn-white ml-auto mr-2 ml-sm-auto mt-3 mt-sm-0 \" + (this.state.datatype === \"Graso\"? \" active\": \"\")}\n                onClick={this.changeType}\n              >\n                Graso\n              </Button>\n              <Button\n                  size=\"sm\"\n                  value=\"Lechon\"\n                  className={\"d-flex btn-white ml-auto mr-2 ml-sm-auto mt-3 mt-sm-0 \" + (this.state.datatype === \"Lechon\"? \" active\": \"\")}\n                  onClick={this.changeType}\n              >\n                Lechon\n              </Button>\n            </div>\n\n          </div>\n          <PriceGraph chartData={this.state.chartData} chartOptions={this.props.chartOptions} />\n        </CardBody>\n      </Card>\n    );\n  }\n}\n\nPorkGraph.propTypes = {\n  /**\n   * The component's title.\n   */\n  title: PropTypes.string,\n  /**\n   * The chart dataset.\n   */\n  chartData: PropTypes.object,\n  /**\n   * The Chart.js options.\n   */\n  chartOptions: PropTypes.object,\n\n  datatype: PropTypes.string\n};\n\nPorkGraph.defaultProps = {\n  datatype: \"Selecto\",\n  title: \"Precios Medios en Mercados Representativos Españoles\",\n  chartOptions: {\n    responsive: true,\n    legend: {\n      position: \"top\"\n    },\n    elements: {\n      line: {\n        // A higher value makes the line look skewed at this ratio.\n        tension: 0.3\n      },\n      point: {\n        radius: 0\n      }\n    },\n    scales: {\n      xAxes: [\n        {\n\n          ticks: {\n            padding: 15,\n            autoskip: true,\n            maxTicksLimit: 30\n            //callback(tick, index) {\n              // Jump every 7 values on the X axis labels to avoid clutter.\n            //  return index % 4 !== 0 ? null : tick;\n           // }\n          }\n        }\n      ],\n\n    },\n    hover: {\n      mode: \"nearest\",\n      intersect: false\n    },\n    tooltips: {\n      custom: false,\n      mode: \"nearest\",\n      intersect: false\n    }\n  },\n  chartData: {\n    labels: [],\n    datasets: [\n      {\n        label: \"Binefar\",\n        fill: \"start\",\n        data: [\n          0\n        ],\n        \"backgroundColor\": \"rgba(0,123,255,0.1)\",\n        \"borderColor\": \"rgba(0,123,255,1)\",\n        \"pointBackgroundColor\": \"#ffffff\",\n        \"pointHoverBackgroundColor\": \"rgb(0,123,255)\",\n        \"borderWidth\": 1.5,\n        \"pointRadius\": 0,\n        \"pointHoverRadius\": 3\n      },\n      {\n        \"label\": \"Lerida\",\n        \"fill\": \"start\",\n        \"data\": [\n          0\n        ],\n        \"backgroundColor\": \"rgba(255,65,105,0.1)\",\n        \"borderColor\": \"rgba(255,65,105,1)\",\n        \"pointBackgroundColor\": \"#ffffff\",\n        \"pointHoverBackgroundColor\": \"rgba(255,65,105,1)\",\n        \"borderDash\": [3, 3],\n        \"borderWidth\": 1,\n        \"pointRadius\": 0,\n        \"pointHoverRadius\": 2,\n        \"pointBorderColor\": \"rgba(255,65,105,1)\"\n      },\n      {\n        label: \"Barcelona\",\n        fill: \"start\",\n        data: [\n          0\n        ],\n        \"backgroundColor\": \"rgba(234, 218, 77, 0.1)\",\n        \"borderColor\": \"rgba(234, 218, 77, 1)\",\n        \"pointBackgroundColor\": \"#ffffff\",\n        \"pointHoverBackgroundColor\": \"rgba(234, 218, 77, 1)\",\n        \"borderDash\": [3, 3],\n        \"borderWidth\": 1,\n        \"pointRadius\": 0,\n        \"pointHoverRadius\": 2,\n        \"pointBorderColor\": \"rgba(234, 218, 77, 1)\"\n      },\n      {\n        label: \"Huesca\",\n        fill: \"start\",\n        data: [\n          0\n        ],\n        \"backgroundColor\": \"rgba(137, 234, 77, 0.1)\",\n        \"borderColor\": \"rgba(92, 201, 24, 1)\",\n        \"pointBackgroundColor\": \"#ffffff\",\n        \"pointHoverBackgroundColor\": \"rgba(92, 201, 24, 1)\",\n        \"borderDash\": [3, 3],\n        \"borderWidth\": 1,\n        \"pointRadius\": 0,\n        \"pointHoverRadius\": 2,\n        \"pointBorderColor\": \"rgba(92, 201, 24, 1)\"\n      },\n      {\n        label: \"Murcia\",\n        fill: \"start\",\n        data: [\n          0\n        ],\n        \"backgroundColor\": \"rgba(201, 100, 24, 0.1)\",\n        \"borderColor\": \"rgba(201, 100, 24, 1)\",\n        \"pointBackgroundColor\": \"#ffffff\",\n        \"pointHoverBackgroundColor\": \"rgba(201, 100, 24, 1)\",\n        \"borderDash\": [3, 3],\n        \"borderWidth\": 1,\n        \"pointRadius\": 0,\n        \"pointHoverRadius\": 2,\n        \"pointBorderColor\": \"rgba(201, 100, 24, 1)\"\n      },\n      {\n        label: \"Pontevedra\",\n        fill: \"start\",\n        data: [\n          0\n        ],\n        \"backgroundColor\": \"rgba(151, 24, 201, 0.1)\",\n        \"borderColor\": \"rgba(151, 24, 201, 1)\",\n        \"pointBackgroundColor\": \"#ffffff\",\n        \"pointHoverBackgroundColor\": \"rgba(151, 24, 201, 1)\",\n        \"borderDash\": [3, 3],\n        \"borderWidth\": 1,\n        \"pointRadius\": 0,\n        \"pointHoverRadius\": 2,\n        \"pointBorderColor\": \"rgba(151, 24, 201, 1)\"\n      },\n      {\n        label: \"Salamanca\",\n        fill: \"start\",\n        data: [\n          0\n        ],\n        \"backgroundColor\": \"rgba(0, 229, 255, 0.1)\",\n        \"borderColor\": \"rgba(0, 229, 255, 1)\",\n        \"pointBackgroundColor\": \"#ffffff\",\n        \"pointHoverBackgroundColor\": \"rgba(0, 229, 255, 1)\",\n        \"borderDash\": [3, 3],\n        \"borderWidth\": 1,\n        \"pointRadius\": 0,\n        \"pointHoverRadius\": 2,\n        \"pointBorderColor\": \"rgba(0, 229, 255, 1)\"\n      },\n      {\n        label: \"Segovia\",\n        fill: \"start\",\n        data: [\n          0\n        ],\n        \"backgroundColor\": \"rgba(255, 0, 170, 0.1)\",\n        \"borderColor\": \"rgba(255, 0, 170, 1)\",\n        \"pointBackgroundColor\": \"#ffffff\",\n        \"pointHoverBackgroundColor\": \"rgba(255, 0, 170, 1)\",\n        \"borderDash\": [3, 3],\n        \"borderWidth\": 1,\n        \"pointRadius\": 0,\n        \"pointHoverRadius\": 2,\n        \"pointBorderColor\": \"rgba(255, 0, 170, 1)\"\n      }\n    ]\n  }\n};\n\nexport default PorkGraph;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport classNames from \"classnames\";\nimport { Card, CardBody } from \"shards-react\";\n\nimport {Line} from \"react-chartjs-2\";\n\nclass SmallStats extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {chartOptions: this.props.chartOptions}\n  }\n\n  componentDidMount() {\n    let  max = 0;\n    this.props.chartData.datasets.forEach((value) =>{\n      max = Math.max(max, ...value.data)\n    });\n\n    let options = this.props.chartOptions;\n    options.scales.yAxes.suggestedMax = max;\n\n    this.setState({chartOptions: options})\n\n}\n  render() {\n    const { chartData, variation, label, value, percentage, increase } = this.props;\n\n    const cardClasses = classNames(\n      \"stats-small\",\n      variation && `stats-small--${variation}`\n    );\n\n    const cardBodyClasses = classNames(\n      variation === \"1\" ? \"p-0 d-flex\" : \"px-0 pb-0\"\n    );\n\n    const innerWrapperClasses = classNames(\n      \"d-flex\",\n      variation === \"1\" ? \"flex-column m-auto\" : \"px-3\"\n    );\n\n    const dataFieldClasses = classNames(\n      \"stats-small__data\",\n      variation === \"1\" && \"text-center\"\n    );\n\n    const labelClasses = classNames(\n      \"stats-small__label\",\n      \"text-uppercase\",\n      variation !== \"1\" && \"mb-1\"\n    );\n\n    const valueClasses = classNames(\n      \"stats-small__value\",\n      \"count\",\n      variation === \"1\" ? \"my-3\" : \"m-0\"\n    );\n\n    const innerDataFieldClasses = classNames(\n      \"stats-small__data\",\n      variation !== \"1\" && \"text-right align-items-center\"\n    );\n\n    const percentageClasses = classNames(\n      \"stats-small__percentage\",\n      `stats-small__percentage--${increase ? \"increase\" : \"decrease\"}`\n    );\n\n    //console.log(\"### SmallStats\", this.state.chartOptions, this.props.chartData);\n\n    return (\n      <Card small className={cardClasses}>\n        <CardBody className={cardBodyClasses}>\n          <div className={innerWrapperClasses}>\n            <div className={dataFieldClasses}>\n              <span className={labelClasses}>{label}</span>\n              <h6 className={valueClasses}>{value}</h6>\n            </div>\n            <div className={innerDataFieldClasses}>\n              <span className={percentageClasses}>{parseFloat(percentage).toFixed(2)}</span>\n            </div>\n          </div>\n          <Line data={chartData} options={this.state.chartOptions} height={60}/>\n        </CardBody>\n      </Card>\n    );\n  }\n}\n\nSmallStats.propTypes = {\n  /**\n   * The Small Stats variation.\n   */\n  variation: PropTypes.string,\n  /**\n   * The label.\n   */\n  label: PropTypes.string,\n  /**\n   * The value.\n   */\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  /**\n   * The percentage number or string.\n   */\n  percentage: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  /**\n   * Whether is a value increase, or not.\n   */\n  increase: PropTypes.bool,\n  /**\n   * The Chart.js configuration object.\n   */\n  chartConfig: PropTypes.object,\n  /**\n   * The Chart.js options object.\n   */\n  chartOptions: PropTypes.object,\n  /**\n   * The chart data.\n   */\n  chartData: PropTypes.object.isRequired,\n  /**\n   * The chart labels.\n   */\n  chartLabels: PropTypes.array\n};\n\nSmallStats.defaultProps = {\n  increase: true,\n  percentage: 0,\n  value: 0,\n  label: \"Label\",\n  chartOptions: {\n    ...{\n      maintainAspectRatio: true,\n      responsive: true,\n      legend: {\n        display: false\n      },\n      hover: {\n        mode: \"nearest\",\n        intersect: false\n      },\n\n      tooltips: {\n        custom: false,\n        mode: \"nearest\",\n        intersect: false\n      },\n      elements: {\n        point: {\n          radius: 0\n        },\n        line: {\n          tension: 0.33\n        }\n      },\n      scales: {\n        xAxes: [\n          {\n            gridLines: false,\n            ticks: {\n              display: false\n            }\n          }\n        ],\n        yAxes: [\n          {\n            gridLines: false,\n            scaleLabel: false,\n            ticks: {\n              display: false,\n              isplay: false,\n              // Avoid getting the graph line cut of at the top of the canvas.\n              // Chart.js bug link: https://github.com/chartjs/Chart.js/issues/4790\n              suggestedMax: 0\n            }\n          }\n        ]\n      }\n    },\n  },\n  chartData: [],\n  chartLabels: []\n};\n\nexport default SmallStats;\n","import SmallStats from \"../common/SmallStats\";\nimport React from \"react\";\nimport {Col, Row} from \"shards-react\";\nimport PropTypes from \"prop-types\";\nimport moment from \"moment\";\nimport {getHistoryData} from \"../../backend/historic\";\n\n\nclass SumUp extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      smallStats: this.props.smallStats,\n    };\n  }\n\n\n  getData(type, callback){\n    getHistoryData({\"limit\": 4, \"type\": type, \"market\": \"Binefar\"}, (data)=>{\n      //console.log(\"### Done\", type,  data);\n      if (data.length === 0){\n        callback([0,0,0,0])\n      }else{\n        const aggregateData = data.map((item) => {\n          return item.data[0].value\n        });\n        const aggregatedDates = data.map((item) =>{\n          return moment(item._id).format('DD-MM-YYYY');\n        });\n\n        callback(aggregateData, aggregatedDates)\n    }}\n      )\n  }\n\n\n  componentDidMount() {\n\n    let SmallStats = this.state.smallStats;\n    SmallStats.forEach((stats)=> {\n        const type = stats.label;\n        this.getData(type, (aggegatedata, aggregatedDates) =>{\n          stats.chartData.datasets[0].data = aggegatedata;\n          stats.chartData.labels = aggregatedDates;\n          //console.log(\"### Data\", aggegatedata, aggregatedDates);\n          let percentage = ((aggegatedata[aggegatedata.length - 1] - aggegatedata[aggegatedata.length - 2])/aggegatedata[aggegatedata.length - 1]*100);\n          stats.increase = percentage >= 0;\n          stats.decrease = percentage < 0;\n          stats.percentage = percentage.toFixed(2)+ \"%\";\n          stats.value = aggegatedata[aggegatedata.length - 1];\n          this.setState({smallStats: SmallStats}, () => {\n            //console.log(\"###State \", this.state.smallStats)\n          })\n        })\n\n    })\n\n  }\n\n  render() {\n    return (\n      <Row>\n        {this.state.smallStats.map((stats, idx) => (\n          <Col className=\"col-lg mb-4\" key={idx} {...stats.attrs}>\n            <SmallStats\n              id={`small-stats-${idx}`}\n              variation=\"1\"\n              chartData={stats.chartData}\n              chartLabels={stats.chartLabels}\n              label={stats.label}\n              value={stats.value}\n              percentage={stats.percentage}\n              increase={stats.increase}\n              decrease={stats.decrease}\n            />\n          </Col>\n        ))}\n      </Row>\n    )\n  };\n}\n\n  SumUp.propTypes = {\n    /**\n     * Whether to hide the logo text, or not.\n     */\n    hideLogoText: PropTypes.bool\n  };\n  SumUp.defaultProps = {\n  smallStats: [\n    {\n      label: \"Selecto\",\n      value: \"1.06\", //Set the latest value!\n      percentage: \"0%\", //Increase or decrease %\n      increase: true, //If increase\n      decrease: false, //If decrease, opposite to increase\n      chartLabels: [null, null, null, null], // [null]*n_data\n      attrs: { md: \"6\", sm: \"6\" },\n      chartData: {\n        datasets: [{\n          label: \"Price\",\n          fill: \"start\",\n          borderWidth: 1.5,\n          backgroundColor: \"rgba(0, 184, 216, 0.1)\",\n          borderColor: \"rgb(0, 184, 216)\",\n          data: [0,0,0,0]\n        }],\n        labels: [null, null, null, null]\n      }\n    },\n    {\n      label: \"Normal\",\n      value: \"1.04\",\n      percentage: \"0%\",\n      increase: true,\n      attrs: { md: \"6\", sm: \"6\" },\n      chartData:\n        {\n          datasets: [\n            {\n            label: \"Price\",\n            fill: \"start\",\n            borderWidth: 1.5,\n            backgroundColor: \"rgba(23,198,113,0.1)\",\n            borderColor: \"rgb(23,198,113)\",\n            data: [0,0,0,0]\n          }],\n          labels: [null, null, null, null]\n        }\n    },\n    {\n      label: \"Graso\",\n      value: \"1.02\",\n      percentage: \"0%\",\n      increase: true,\n      decrease: false,\n      attrs: { md: \"4\", sm: \"6\" },\n      chartData:\n        {\n          datasets: [{\n            label: \"Price\",\n            fill: \"start\",\n            borderWidth: 1.5,\n            backgroundColor: \"rgba(255,180,0,0.1)\",\n            borderColor: \"rgb(255,180,0)\",\n            data: [0, 0, 0, 0]\n          }],\n          labels: [null, null, null, null]\n        }\n    },\n    {\n      label: \"Lechon\",\n      value: \"38.00\",\n      percentage: \"8.57%\",\n      increase: true,\n      decrease: false,\n      attrs: { md: \"4\", sm: \"6\" },\n      chartData:\n        {\n        datasets: [{\n          label: \"Price\",\n          fill: \"start\",\n          borderWidth: 1.5,\n          backgroundColor: \"rgba(255,65,105,0.1)\",\n          borderColor: \"rgb(255,65,105)\",\n          data: [0,0,0,0]\n        }],\n        labels: [null, null, null, null]\n        }\n    }\n  ]\n};\nexport default SumUp;\n","import React from \"react\";\nimport { Container, Row, Col, Button, ButtonGroup } from \"shards-react\";\nimport {Link} from 'react-router-dom';\n\nimport PageTitle from \"../components/common/PageTitle\";\nimport PorkGraph from \"../components/layout/overview/PorkGraph\";\nimport SumUp from \"../components/graphs/SumUp\"; //TODO Rename to MainGraph\n//import HistoricPork from \"./HistoricPork\"\n\nconst PorkStats = () => (\n  <Container fluid className=\"main-content-container px-4\">\n    {/* Page Header */}\n    <br></br>\n    <ButtonGroup className=\"float-right\">\n    <Link to=\"/europePork\">\n    <Button  size=\"lg\" >Europa</Button>\n    </Link>\n    &nbsp;&nbsp;&nbsp;&nbsp;\n    <Link to=\"/historicPork\">\n    <Button size=\"lg\" theme=\"success\" >Histórico de precios</Button>\n    </Link>\n    </ButtonGroup>\n\n    <Row noGutters className=\"page-header py-4\">\n      <PageTitle title=\"PORCINO\" subtitle=\"\" className=\"text-sm-left mb-3\" />\n    </Row>\n\n\n    {/* Small Stats Blocks */}\n    <h5>Binefar</h5>\n    <SumUp/>\n\n    <Row>\n      {/* Main Graph */}\n      <Col lg=\"12\" md=\"12\" sm=\"12\" className=\"mb-4\">\n        <PorkGraph/>\n      </Col>\n    </Row>\n  </Container>\n);\n\n\nexport default PorkStats;\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Card, CardHeader, CardBody, Button } from \"shards-react\";\r\nimport moment from 'moment';\r\nimport RangeDatePicker from \"../../common/RangeDatePicker\";\r\n\r\nimport PriceGraph from \"../../graphs/PriceGraph\";\r\nimport {getEuropeData} from \"../../../backend/historic\";\r\nimport {parseDate} from \"../../../backend/common\";\r\n\r\n\r\nclass EuropeGraph extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const today = new Date()\r\n    this.state = {\r\n      datatype: \"S\",\r\n      chartData: this.props.chartData,\r\n      startDate: today.setFullYear(today.getFullYear()-2),\r\n      endDate: undefined\r\n    };\r\n    this.changeType = this.changeType.bind(this);\r\n    this.handleStartDateChange = this.handleStartDateChange.bind(this);\r\n    this.handleEndDateChange = this.handleEndDateChange.bind(this)\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData()\r\n  }\r\n\r\n  getData(){\r\n    const params = {type: this.state.datatype}\r\n    if (this.state.startDate != null){\r\n      params.from = moment.utc(this.state.startDate).format(\"DD-MM-YYYY\")\r\n    }\r\n    if (this.state.endDate != null){\r\n      params.to = moment.utc(this.state.endDate).format(\"DD-MM-YYYY\")\r\n    }\r\n\r\n    getEuropeData(params,(data) => {\r\n\t  let all_data = {'Belgium':[], 'Bulgaria': [], 'Czechia': [], 'Denmark': [], 'Germany': [], 'Estonia': [], 'Ireland': [], 'Greece': [],\r\n\t  'Spain': [], 'France': [], 'Croatia': [], 'Italy': [], 'Cyprus': [], 'Latvia': [], 'Lihtuania': [], 'Luxembourg': [], 'Hungary': [], 'Malta': [],\r\n\t   'Netherlands': [], 'Austria': [], 'Poland': [], 'Portugal': []};\r\n      let all_dates = [];\r\n      data.forEach((element) => {\r\n        let date = parseDate(element._id);\r\n\t\tlet data = element.data[0].markets;\r\n\t\tconst tmp_data = {'Belgium':null, 'Bulgaria': null, 'Czechia': null, 'Denmark': null, 'Germany': null, 'Estonia': null, 'Ireland': null, 'Greece': null,\r\n\t\t 'Spain': null, 'France': null, 'Croatia': null, 'Italy': null, 'Cyprus': null, 'Latvia': null, 'Lihtuania': null, 'Luxembourg': null, 'Hungary': null,\r\n\t\t 'Malta': null, 'Netherlands': null, 'Austria': null, 'Poland': null, 'Portugal': null};;\r\n        if (data.length > 0){\r\n          data.forEach((onedata) =>{\r\n            tmp_data[onedata.country] = onedata.price\r\n          });\r\n          all_data[\"Belgium\"].push(tmp_data[\"Belgium\"])\r\n          all_data[\"Bulgaria\"].push(tmp_data[\"Bulgaria\"])\r\n          all_data[\"Czechia\"].push(tmp_data[\"Czechia\"])\r\n          all_data[\"Denmark\"].push(tmp_data[\"Denmark\"])\r\n          all_data[\"Germany\"].push(tmp_data[\"Germany\"])\r\n          all_data[\"Estonia\"].push(tmp_data[\"Estonia\"])\r\n\t\t  all_data[\"Ireland\"].push(tmp_data[\"Ireland\"])\r\n\t\t  all_data[\"Greece\"].push(tmp_data[\"Greece\"])\r\n\t\t  all_data[\"Spain\"].push(tmp_data[\"Spain\"])\r\n\t\t  all_data[\"France\"].push(tmp_data[\"France\"])\r\n\t\t  all_data[\"Croatia\"].push(tmp_data[\"Croatia\"])\r\n\t\t  all_data[\"Italy\"].push(tmp_data[\"Italy\"])\r\n\t\t  all_data[\"Netherlands\"].push(tmp_data[\"Netherlands\"])\r\n\t\t  all_data[\"Austria\"].push(tmp_data[\"Austria\"])\r\n\t\t  all_data[\"Poland\"].push(tmp_data[\"Poland\"])\r\n          all_data[\"Portugal\"].push(tmp_data[\"Portugal\"])\r\n          all_dates.push(date)\r\n        }\r\n      });\r\n      let base = this.state.chartData;\r\n      base.labels = all_dates;\r\n      base.datasets[0].data = all_data['Belgium'];\r\n      base.datasets[1].data = all_data['Bulgaria'];\r\n      base.datasets[2].data = all_data['Czechia'];\r\n      base.datasets[3].data = all_data['Denmark'];\r\n      base.datasets[4].data = all_data['Germany'];\r\n      base.datasets[5].data = all_data['Estonia'];\r\n\t  base.datasets[6].data = all_data['Ireland'];\r\n\t  base.datasets[7].data = all_data['Greece'];\r\n\t  base.datasets[8].data = all_data['Spain'];\r\n\t  base.datasets[9].data = all_data['France'];\r\n\t  base.datasets[10].data = all_data['Croatia'];\r\n\t  base.datasets[11].data = all_data['Italy'];\r\n\t  base.datasets[12].data = all_data['Netherlands'];\r\n\t  base.datasets[13].data = all_data['Austria'];\r\n\t  base.datasets[14].data = all_data['Poland'];\r\n      base.datasets[15].data = all_data['Portugal'];\r\n      this.setState({\r\n        datatype: this.state.datatype,\r\n        chartData: base\r\n      });\r\n      //console.log(this.state.chartData)\r\n    })};\r\n\r\n\r\n  changeType(event) {\r\n    //console.log(\"change_type\");\r\n    this.setState({\r\n      datatype: event.currentTarget.value\r\n    }, () => {\r\n      this.getData()\r\n    })\r\n  }\r\n\r\n    handleStartDateChange(value){\r\n      this.setState({startDate: new Date(value)},()=>{\r\n        this.getData()\r\n      })\r\n\r\n    }\r\n    handleEndDateChange(value){\r\n      this.setState({endDate: new Date(value)},()=>{\r\n        this.getData()\r\n      })\r\n    }\r\n\r\n  render() {\r\n    const { title } = this.props;\r\n    return (\r\n      <Card small className=\"h-10\">\r\n        <CardHeader className=\"border-bottom\">\r\n          <h6 className=\"m-0\">{title}</h6>\r\n        </CardHeader>\r\n        <CardBody className=\"pt-0\">\r\n          <div className=\"border-bottom py-2 bg-light d-flex flex-row\">\r\n            <div sm=\"7\" className=\"d-flex mb-2 mb-sm-0 mr-auto\">\r\n              <RangeDatePicker startDate={this.state.startDate} endDate={this.state.endDate} handleEndDateChange={this.handleEndDateChange} handleStartDateChange={this.handleStartDateChange}/>\r\n            </div>\r\n            <div className=\"d-flex flex-row\">\r\n              <Button\r\n                size=\"sm\"\r\n                value=\"S\"\r\n                className={\"d-flex btn-white ml-auto mr-2 ml-sm-auto mt-3 mt-sm-0\" + (this.state.datatype === \"S\"? \" active\": \"\")}\r\n                onClick={this.changeType}\r\n              >\r\n                Clase S\r\n              </Button>\r\n              <Button\r\n                size=\"sm\"\r\n                value=\"E\"\r\n                className={\"d-flex btn-white ml-auto mr-2 ml-sm-auto mt-3 mt-sm-0 \"+ (this.state.datatype === \"E\"? \" active\": \"\")}\r\n                onClick={this.changeType}\r\n              >\r\n                Clase E\r\n              </Button>\r\n              <Button\r\n                size=\"sm\"\r\n                value=\"R\"\r\n                className={\"d-flex btn-white ml-auto mr-2 ml-sm-auto mt-3 mt-sm-0 \" + (this.state.datatype === \"R\"? \" active\": \"\")}\r\n                onClick={this.changeType}\r\n              >\r\n                Clase R\r\n              </Button>\r\n              <Button\r\n                  size=\"sm\"\r\n                  value=\"Lechon\"\r\n                  className={\"d-flex btn-white ml-auto mr-2 ml-sm-auto mt-3 mt-sm-0 \" + (this.state.datatype === \"Lechon\"? \" active\": \"\")}\r\n                  onClick={this.changeType}\r\n              >\r\n                Lechon\r\n              </Button>\r\n            </div>\r\n\r\n          </div>\r\n          <PriceGraph chartData={this.state.chartData} chartOptions={this.props.chartOptions} />\r\n        </CardBody>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nEuropeGraph.propTypes = {\r\n  /**\r\n   * The component's title.\r\n   */\r\n  title: PropTypes.string,\r\n  /**\r\n   * The chart dataset.\r\n   */\r\n  chartData: PropTypes.object,\r\n  /**\r\n   * The Chart.js options.\r\n   */\r\n  chartOptions: PropTypes.object,\r\n\r\n  datatype: PropTypes.string\r\n};\r\n\r\nEuropeGraph.defaultProps = {\r\n  datatype: \"S\",\r\n  title: \"Precios Medios en Mercados Representativos Europeos\",\r\n  chartOptions: {\r\n    responsive: true,\r\n    legend: {\r\n      position: \"top\"\r\n    },\r\n    elements: {\r\n      line: {\r\n        // A higher value makes the line look skewed at this ratio.\r\n        tension: 0.3\r\n      },\r\n      point: {\r\n        radius: 0\r\n      }\r\n    },\r\n    scales: {\r\n      xAxes: [\r\n        {\r\n\r\n          ticks: {\r\n            padding: 15,\r\n            autoskip: true,\r\n            maxTicksLimit: 30\r\n            //callback(tick, index) {\r\n              // Jump every 7 values on the X axis labels to avoid clutter.\r\n            //  return index % 4 !== 0 ? null : tick;\r\n           // }\r\n          }\r\n        }\r\n      ],\r\n\r\n    },\r\n    hover: {\r\n      mode: \"nearest\",\r\n      intersect: false\r\n    },\r\n    tooltips: {\r\n      custom: false,\r\n      mode: \"nearest\",\r\n      intersect: false\r\n    }\r\n  },\r\n  chartData: {\r\n    labels: [],\r\n    datasets: [\r\n      {\r\n        label: \"Belgium\",\r\n        fill: \"start\",\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(189, 55, 10, 0.1)\",\r\n        \"borderColor\": \"rgba(189, 55, 10, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(189, 55, 10, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n\t\t\"pointBorderColor\": \"rgba(189, 55, 10, 1)\"\r\n      },\r\n      {\r\n        \"label\": \"Bulgaria\",\r\n\t\t\"fill\": \"start\",\r\n\t\thidden: true,\r\n        \"data\": [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(255,65,105,0.1)\",\r\n        \"borderColor\": \"rgba(255,65,105,1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(255,65,105,1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(255,65,105,1)\"\r\n      },\r\n      {\r\n        label: \"Czechia\",\r\n\t\tfill: \"start\",\r\n\t\thidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(234, 218, 77, 0.1)\",\r\n        \"borderColor\": \"rgba(234, 218, 77, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(234, 218, 77, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(234, 218, 77, 1)\"\r\n      },\r\n      {\r\n        label: \"Denmark\",\r\n\t\tfill: \"start\",\r\n\t\thidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(137, 234, 77, 0.1)\",\r\n        \"borderColor\": \"rgba(92, 201, 24, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(92, 201, 24, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(92, 201, 24, 1)\"\r\n      },\r\n      {\r\n        label: \"Germany\",\r\n        fill: \"start\",\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(201, 100, 24, 0.1)\",\r\n        \"borderColor\": \"rgba(201, 100, 24, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(201, 100, 24, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(201, 100, 24, 1)\"\r\n      },\r\n      {\r\n        label: \"Estonia\",\r\n\t\tfill: \"start\",\r\n\t\thidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(151, 24, 201, 0.1)\",\r\n        \"borderColor\": \"rgba(151, 24, 201, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(151, 24, 201, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(151, 24, 201, 1)\"\r\n      },\r\n      {\r\n        label: \"Ireland\",\r\n        fill: \"start\",\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(0, 229, 255, 0.1)\",\r\n        \"borderColor\": \"rgba(0, 229, 255, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(0, 229, 255, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(0, 229, 255, 1)\"\r\n\t  },\r\n\t  {\r\n        label: \"Greece\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(201, 100, 24, 0.1)\",\r\n        \"borderColor\": \"rgba(201, 100, 24, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(201, 100, 24, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(201, 100, 24, 1)\"\r\n      },\r\n      {\r\n        label: \"Spain\",\r\n        fill: \"start\",\r\n        data: [\r\n          0\r\n        ],\r\n\t\t\"backgroundColor\": \"rgba(0,123,255,0.1)\",\r\n        \"borderColor\": \"rgba(0,123,255,1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgb(0,123,255)\",\r\n        \"borderWidth\": 1.5,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 3\r\n      },\r\n      {\r\n        label: \"France\",\r\n        fill: \"start\",\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(189, 144, 10, 0.1)\",\r\n        \"borderColor\": \"rgba(189, 144, 10, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(189, 144, 10, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(189, 144, 10, 1)\"\r\n      },\r\n      {\r\n        label: \"Croatia\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(162, 189, 10, 0.1)\",\r\n        \"borderColor\": \"rgba(162, 189, 10, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(162, 189, 10, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(162, 189, 10, 1)\"\r\n      },\r\n      {\r\n        label: \"Italy\",\r\n        fill: \"start\",\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(50, 121, 6, 0.1)\",\r\n        \"borderColor\": \"rgba(50, 121, 6, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(50, 121, 6, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(50, 121, 6, 1)\"\r\n      },\r\n      {\r\n        label: \"Netherlands\",\r\n        fill: \"start\",\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(151, 24, 201, 0.1)\",\r\n        \"borderColor\": \"rgba(151, 24, 201, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(151, 24, 201, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(151, 24, 201, 1)\"\r\n      },\r\n      {\r\n        label: \"Austria\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(6, 73, 121, 0.1)\",\r\n        \"borderColor\": \"rgba(6, 73, 121, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(6, 73, 121, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(6, 73, 121, 1)\"\r\n      },\r\n      {\r\n        label: \"Poland\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(255, 0, 170, 0.1)\",\r\n        \"borderColor\": \"rgba(255, 0, 170, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(255, 0, 170, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(255, 0, 170, 1)\"\r\n      },\r\n      {\r\n        label: \"Portugal\",\r\n        fill: \"start\",\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(6, 121, 81, 0.1)\",\r\n        \"borderColor\": \"rgba(6, 121, 81, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(6, 121, 81, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(6, 121, 81, 1)\"\r\n      }\r\n    ]\r\n  }\r\n};\r\n\r\nexport default EuropeGraph;\r\n","import React from \"react\";\r\nimport { Container, Row, Col } from \"shards-react\";\r\n\r\nimport PageTitle from \"../components/common/PageTitle\";\r\nimport EuropeGraph from \"../components/layout/overview/EuropeGraph\";\r\n\r\nconst EuropePorkStats = () => (\r\n  <Container fluid className=\"main-content-container px-4\">\r\n    {/* Page Header */}\r\n    <Row noGutters className=\"page-header py-4\">\r\n      <PageTitle title=\"PORCINO\" subtitle=\"Precios de mercado semanales de la UE para la canal de cerdo\" className=\"text-sm-left mb-3\" />\r\n    </Row>\r\n\r\n\r\n    {/* Small Stats Blocks */}\r\n    <h5>Europa</h5>\r\n\r\n    <Row>\r\n      {/* Main Graph */}\r\n      <Col lg=\"12\" md=\"12\" sm=\"12\" className=\"mb-4\">\r\n        <EuropeGraph/>\r\n      </Col>\r\n    </Row>\r\n  </Container>\r\n);\r\n\r\n\r\nexport default EuropePorkStats;\r\n","import {doGet} from \"./common\";\r\n\r\nfunction getCerealData(params, callback){\r\n  //console.log(\"### GetHistoryData\", params);\r\n  doGet(\"/cereal/aggregate\", params, callback)\r\n}\r\n\r\n\r\nfunction getCerealMarkets(params, callback){\r\n  doGet(\"/cereal/markets\", params, callback)\r\n}\r\n\r\n\r\n\r\nexport  {getCerealData,getCerealMarkets}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Card, CardHeader, CardBody, Button } from \"shards-react\";\r\nimport moment from 'moment';\r\nimport RangeDatePicker from \"../../common/RangeDatePicker\";\r\n\r\nimport PriceGraph from \"../../graphs/PriceGraph\";\r\nimport {getCerealData} from \"../../../backend/cereal\";\r\nimport {parseDate} from \"../../../backend/common\";\r\n\r\n\r\nclass TrigoGraph extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const today = new Date()\r\n    this.state = {\r\n      datatype: \"BlandoPanificable\",\r\n      chartData: this.props.chartData,\r\n      startDate: today.setFullYear(today.getFullYear()-2),\r\n      endDate: undefined\r\n    };\r\n    this.changeType = this.changeType.bind(this);\r\n    this.handleStartDateChange = this.handleStartDateChange.bind(this);\r\n    this.handleEndDateChange = this.handleEndDateChange.bind(this)\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData()\r\n  }\r\n\r\n  getData(){\r\n    const params = {type: this.state.datatype}\r\n    if (this.state.startDate != null){\r\n      params.from = moment.utc(this.state.startDate).format(\"DD-MM-YYYY\")\r\n    }\r\n    if (this.state.endDate != null){\r\n      params.to = moment.utc(this.state.endDate).format(\"DD-MM-YYYY\")\r\n    }\r\n\r\n    getCerealData(params,(data) => {\r\n      let all_data = {'Albacete':[], 'Ávila': [], 'Barcelona': [], 'Burgos': [], 'Guadalajara': [], 'Huesca': [], 'León': [],'Lérida': [],\r\n      'Madrid': [],'Murcia': [],'Navarra': [],'Palencia': [], 'Pontevedra': [], 'Salamanca': [], 'Segovia': [],'Soria': [],'Tarragona': [],\r\n      'Valladolid': [],'Zamora': [],'Zaragoza': [],'Cádiz': [],'Córdoba': [],'Sevilla': []};\r\n      let all_dates = [];\r\n      data.forEach((element) => {\r\n        let date = parseDate(element._id);\r\n        let data = element.data;\r\n        const tmp_data =  {'Albacete':null, 'Ávila': null, 'Barcelona': null, 'Burgos': null, 'Guadalajara': null, 'Huesca': null, 'León': null,'Lérida': null,\r\n        'Madrid': null, 'Murcia': null, 'Navarra': null,'Palencia': null, 'Salamanca': null, 'Segovia': null,'Soria': null, 'Tarragona': null, \r\n        'Valladolid': null,'Zamora': null,'Zaragoza': null,'Cádiz': null,'Córdoba': null,'Sevilla': null};;\r\n        if (data.length > 0){\r\n          data.forEach((onedata) =>{\r\n            tmp_data[onedata.market] = onedata.value\r\n          });\r\n          all_data[\"Albacete\"].push(tmp_data[\"Albacete\"])\r\n          all_data[\"Ávila\"].push(tmp_data[\"Ávila\"])\r\n          all_data[\"Barcelona\"].push(tmp_data[\"Barcelona\"])\r\n          all_data[\"Burgos\"].push(tmp_data[\"Burgos\"])\r\n          all_data[\"Guadalajara\"].push(tmp_data[\"Guadalajara\"])\r\n          all_data[\"Huesca\"].push(tmp_data[\"Huesca\"])\r\n          all_data[\"León\"].push(tmp_data[\"León\"])\r\n          all_data[\"Lérida\"].push(tmp_data[\"Lérida\"])\r\n          all_data[\"Madrid\"].push(tmp_data[\"Madrid\"])\r\n          all_data[\"Murcia\"].push(tmp_data[\"Murcia\"])\r\n          all_data[\"Navarra\"].push(tmp_data[\"Navarra\"])\r\n          all_data[\"Palencia\"].push(tmp_data[\"Palencia\"])\r\n          all_data[\"Pontevedra\"].push(tmp_data[\"Pontevedra\"])\r\n          all_data[\"Salamanca\"].push(tmp_data[\"Salamanca\"])\r\n          all_data[\"Segovia\"].push(tmp_data[\"Segovia\"])\r\n          all_data[\"Soria\"].push(tmp_data[\"Soria\"])\r\n          all_data[\"Tarragona\"].push(tmp_data[\"Tarragona\"])\r\n          all_data[\"Valladolid\"].push(tmp_data[\"Valladolid\"])\r\n          all_data[\"Zamora\"].push(tmp_data[\"Zamora\"])\r\n          all_data[\"Zaragoza\"].push(tmp_data[\"Zaragoza\"])\r\n          all_data[\"Cádiz\"].push(tmp_data[\"Cádiz\"])\r\n          all_data[\"Córdoba\"].push(tmp_data[\"Córdoba\"])\r\n          all_data[\"Sevilla\"].push(tmp_data[\"Sevilla\"])\r\n          all_dates.push(date)\r\n        }\r\n      });\r\n      let base = this.state.chartData;\r\n      base.labels = all_dates;\r\n      base.datasets[0].data = all_data['Albacete'];\r\n      base.datasets[1].data = all_data['Ávila'];\r\n      base.datasets[2].data = all_data['Barcelona'];\r\n      base.datasets[3].data = all_data['Burgos'];\r\n      base.datasets[4].data = all_data['Guadalajara'];\r\n      base.datasets[5].data = all_data['Huesca'];\r\n      base.datasets[6].data = all_data['León'];\r\n      base.datasets[7].data = all_data['Lérida'];\r\n      base.datasets[8].data = all_data['Madrid'];\r\n      base.datasets[9].data = all_data['Murcia'];\r\n      base.datasets[10].data = all_data['Navarra'];\r\n      base.datasets[11].data = all_data['Palencia'];\r\n      base.datasets[12].data = all_data['Pontevedra'];\r\n      base.datasets[13].data = all_data['Salamanca'];\r\n      base.datasets[14].data = all_data['Segovia'];\r\n      base.datasets[15].data = all_data['Soria'];\r\n      base.datasets[16].data = all_data['Tarragona'];\r\n      base.datasets[17].data = all_data['Valladolid'];\r\n      base.datasets[18].data = all_data['Zamora'];\r\n      base.datasets[19].data = all_data['Zaragoza'];\r\n      base.datasets[20].data = all_data['Cádiz'];\r\n      base.datasets[21].data = all_data['Córdoba'];\r\n      base.datasets[22].data = all_data['Sevilla'];\r\n      this.setState({\r\n        datatype: this.state.datatype,\r\n        chartData: base\r\n      });\r\n      //console.log(this.state.chartData)\r\n    })};\r\n\r\n\r\n  changeType(event) {\r\n    //console.log(\"change_type\");\r\n    this.setState({\r\n      datatype: event.currentTarget.value\r\n    }, () => {\r\n      this.getData()\r\n    })\r\n  }\r\n\r\n    handleStartDateChange(value){\r\n      this.setState({startDate: new Date(value)},()=>{\r\n        this.getData()\r\n      })\r\n\r\n    }\r\n    handleEndDateChange(value){\r\n      this.setState({endDate: new Date(value)},()=>{\r\n        this.getData()\r\n      })\r\n    }\r\n\r\n  render() {\r\n    const { title } = this.props;\r\n    return (\r\n      <Card small className=\"h-10\">\r\n        <CardHeader className=\"border-bottom\">\r\n          <h6 className=\"m-0\">{title}</h6>\r\n        </CardHeader>\r\n        <CardBody className=\"pt-0\">\r\n          <div className=\"border-bottom py-2 bg-light d-flex flex-row\">\r\n            <div sm=\"7\" className=\"d-flex mb-2 mb-sm-0 mr-auto\">\r\n              <RangeDatePicker startDate={this.state.startDate} endDate={this.state.endDate} handleEndDateChange={this.handleEndDateChange} handleStartDateChange={this.handleStartDateChange}/>\r\n            </div>\r\n            <div className=\"d-flex flex-row\">\r\n              <Button\r\n                size=\"sm\"\r\n                value=\"BlandoPanificable\"\r\n                className={\"d-flex btn-white ml-auto mr-2 ml-sm-auto mt-3 mt-sm-0\" + (this.state.datatype === \"BlandoPanificable\"? \" active\": \"\")}\r\n                onClick={this.changeType}\r\n              >\r\n                Blando Panificable\r\n              </Button>\r\n              <Button\r\n                size=\"sm\"\r\n                value=\"Duro\"\r\n                className={\"d-flex btn-white ml-auto mr-2 ml-sm-auto mt-3 mt-sm-0 \"+ (this.state.datatype === \"Duro\"? \" active\": \"\")}\r\n                onClick={this.changeType}\r\n              >\r\n                Duro\r\n              </Button>\r\n            </div>\r\n\r\n          </div>\r\n          <PriceGraph chartData={this.state.chartData} chartOptions={this.props.chartOptions} />\r\n        </CardBody>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nTrigoGraph.propTypes = {\r\n  /**\r\n   * The component's title.\r\n   */\r\n  title: PropTypes.string,\r\n  /**\r\n   * The chart dataset.\r\n   */\r\n  chartData: PropTypes.object,\r\n  /**\r\n   * The Chart.js options.\r\n   */\r\n  chartOptions: PropTypes.object,\r\n\r\n  datatype: PropTypes.string\r\n};\r\n\r\nTrigoGraph.defaultProps = {\r\n  datatype: \"BlandoPanificable\",\r\n  title: \"Precios Medios en Mercados Representativos\",\r\n  chartOptions: {\r\n    responsive: true,\r\n    title: {\r\n      display: true,\r\n      position: 'left',\r\n      text: 'Euro/Tonelada'\r\n    },\r\n    legend: {\r\n      position: \"top\"\r\n    },\r\n    elements: {\r\n      line: {\r\n        // A higher value makes the line look skewed at this ratio.\r\n        tension: 0.3\r\n      },\r\n      point: {\r\n        radius: 0\r\n      }\r\n    },\r\n    scales: {\r\n      xAxes: [\r\n        {\r\n\r\n          ticks: {\r\n            padding: 15,\r\n            autoskip: true,\r\n            maxTicksLimit: 30\r\n            //callback(tick, index) {\r\n              // Jump every 7 values on the X axis labels to avoid clutter.\r\n            //  return index % 4 !== 0 ? null : tick;\r\n           // }\r\n          }\r\n        }\r\n      ],\r\n\r\n    },\r\n    hover: {\r\n      mode: \"nearest\",\r\n      intersect: false\r\n    },\r\n    tooltips: {\r\n      custom: false,\r\n      mode: \"nearest\",\r\n      intersect: false\r\n    }\r\n  },\r\n  chartData: {\r\n    labels: [],\r\n    datasets: [\r\n      {\r\n        label: \"Albacete\",\r\n        fill: \"start\",\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(0,123,255,0.1)\",\r\n        \"borderColor\": \"rgba(0,123,255,1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgb(0,123,255)\",\r\n        \"borderWidth\": 1.5,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 3\r\n      },\r\n      {\r\n        label: \"Ávila\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(255,65,105,0.1)\",\r\n        \"borderColor\": \"rgba(255,65,105,1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(255,65,105,1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(255,65,105,1)\"\r\n      },\r\n      {\r\n        label: \"Barcelona\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(234, 218, 77, 0.1)\",\r\n        \"borderColor\": \"rgba(234, 218, 77, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(234, 218, 77, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(234, 218, 77, 1)\"\r\n      },\r\n      {\r\n        label: \"Burgos\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        \"data\": [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(255,65,105,0.1)\",\r\n        \"borderColor\": \"rgba(255,65,105,1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(255,65,105,1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(255,65,105,1)\"\r\n      },\r\n      {\r\n        label: \"Guadalajara\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        \"data\": [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(255,65,105,0.1)\",\r\n        \"borderColor\": \"rgba(255,65,105,1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(255,65,105,1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(255,65,105,1)\"\r\n      },\r\n      {\r\n        label: \"Huesca\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(137, 234, 77, 0.1)\",\r\n        \"borderColor\": \"rgba(92, 201, 24, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(92, 201, 24, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(92, 201, 24, 1)\"\r\n      },\r\n      {\r\n        label: \"León\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(201, 100, 24, 0.1)\",\r\n        \"borderColor\": \"rgba(201, 100, 24, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(201, 100, 24, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(201, 100, 24, 1)\"\r\n      },\r\n      {\r\n        label: \"Lérida\",\r\n        fill: \"start\",\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(201, 100, 24, 0.1)\",\r\n        \"borderColor\": \"rgba(201, 100, 24, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(201, 100, 24, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(201, 100, 24, 1)\"\r\n      },\r\n      {\r\n        label: \"Madrid\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(189, 55, 10, 0.1)\",\r\n        \"borderColor\": \"rgba(189, 55, 10, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(189, 55, 10, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(189, 55, 10, 1)\"\r\n      },\r\n      {\r\n        label: \"Murcia\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(189, 144, 10, 0.1)\",\r\n        \"borderColor\": \"rgba(189, 144, 10, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(189, 144, 10, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(189, 144, 10, 1)\"\r\n      },\r\n      {\r\n        label: \"Navarra\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(162, 189, 10, 0.1)\",\r\n        \"borderColor\": \"rgba(162, 189, 10, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(162, 189, 10, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(162, 189, 10, 1)\"\r\n      },\r\n      {\r\n        label: \"Palencia\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(50, 121, 6, 0.1)\",\r\n        \"borderColor\": \"rgba(50, 121, 6, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(50, 121, 6, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(50, 121, 6, 1)\"\r\n      },\r\n      {\r\n        label: \"Pontevedra\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(151, 24, 201, 0.1)\",\r\n        \"borderColor\": \"rgba(151, 24, 201, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(151, 24, 201, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(151, 24, 201, 1)\"\r\n      },\r\n      {\r\n        label: \"Salamanca\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(0, 229, 255, 0.1)\",\r\n        \"borderColor\": \"rgba(0, 229, 255, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(0, 229, 255, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(0, 229, 255, 1)\"\r\n      },\r\n      {\r\n        label: \"Segovia\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(255, 0, 170, 0.1)\",\r\n        \"borderColor\": \"rgba(255, 0, 170, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(255, 0, 170, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(255, 0, 170, 1)\"\r\n      },\r\n      {\r\n        label: \"Soria\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(6, 121, 81, 0.1)\",\r\n        \"borderColor\": \"rgba(6, 121, 81, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(6, 121, 81, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(6, 121, 81, 1)\"\r\n      },\r\n      {\r\n        label: \"Tarragona\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(6, 73, 121, 0.1)\",\r\n        \"borderColor\": \"rgba(6, 73, 121, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(6, 73, 121, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(6, 73, 121, 1)\"\r\n      },\r\n      {\r\n        label: \"Valladolid\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(8, 6, 121, 0.1)\",\r\n        \"borderColor\": \"rgba(8, 6, 121, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(8, 6, 121, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(8, 6, 121, 1)\"\r\n      },\r\n      {\r\n        label: \"Zamora\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(91, 6, 121, 0.1)\",\r\n        \"borderColor\": \"rgba(91, 6, 121, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(91, 6, 121, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(91, 6, 121, 1)\"\r\n      },\r\n      {\r\n        label: \"Zaragoza\",\r\n        fill: \"start\",\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(255,0,0,0.1)\",\r\n        \"borderColor\": \"rgba(255,0,0,1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgb(243, 8, 22)\",\r\n        \"borderWidth\": 1.5,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 3\r\n      },\r\n      {\r\n        label: \"Cádiz\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(184, 10, 94, 0.1)\",\r\n        \"borderColor\": \"rgba(184, 10, 94, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(184, 10, 94, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(184, 10, 94, 1)\"\r\n      },\r\n      {\r\n        label: \"Córdoba\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(179, 145, 9, 0.1)\",\r\n        \"borderColor\": \"rgba(179, 145, 9, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(179, 145, 9, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(179, 145, 9, 1)\"\r\n      },\r\n      {\r\n        label: \"Sevilla\",\r\n        fill: \"start\",\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(8, 82, 155, 0.1)\",\r\n        \"borderColor\": \"rgba(8, 82, 155, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(8, 82, 155, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(8, 82, 155, 1)\"\r\n      },\r\n    ]\r\n  }\r\n};\r\n\r\nexport default TrigoGraph;\r\n","import SmallStats from \"../common/SmallStats\";\r\nimport React from \"react\";\r\nimport {Col, Row, Container} from \"shards-react\";\r\nimport PropTypes from \"prop-types\";\r\nimport moment from \"moment\";\r\nimport {getCerealData} from \"../../backend/cereal\";\r\nimport {\r\n\tDropdown,\r\n\tDropdownToggle,\r\n\tDropdownMenu,\r\n\tDropdownItem\r\n} from \"shards-react\";\r\n\r\nclass TrigoSumUp extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n\t  smallStats: this.props.smallStats,\r\n\t  open: false,\r\n\t  market: 'Barcelona'\r\n\t};\r\n\tthis.toggle = this.toggle.bind(this);\r\n\tthis.click = this.click.bind(this);\r\n\r\n  }\r\n\r\n  toggle() {\r\n    this.setState(prevState => {\r\n      return { open: !prevState.open };\r\n    });\r\n  }\r\n\r\n  getData(type, market, callback){\r\n    getCerealData({\"limit\": 4, \"type\": type, \"market\": market}, (data)=>{\r\n      //console.log(\"### Done\", type,  data);\r\n      if (data.length === 0){\r\n        callback([0,0,0,0])\r\n      }else{\r\n        const aggregateData = data.map((item) => {\r\n          return item.data[0].value\r\n        });\r\n        const aggregatedDates = data.map((item) =>{\r\n          return moment(item._id).format('DD-MM-YYYY');\r\n        });\r\n\r\n        callback(aggregateData, aggregatedDates)\r\n    }}\r\n      )\r\n  }\r\n\r\n  click(name){\r\n    let SmallStats = this.state.smallStats;\r\n    SmallStats.forEach((stats)=> {\r\n\t\tconst type = stats.label;\r\n\t\tthis.setState({market: name});\r\n        this.getData(type, name, (aggegatedata, aggregatedDates) =>{\r\n          stats.chartData.datasets[0].data = aggegatedata;\r\n          stats.chartData.labels = aggregatedDates;\r\n          //console.log(\"### Data\", aggegatedata, aggregatedDates);\r\n          let percentage = ((aggegatedata[aggegatedata.length - 1] - aggegatedata[aggegatedata.length - 2])/aggegatedata[aggegatedata.length - 1]*100);\r\n          stats.increase = percentage >= 0;\r\n          stats.decrease = percentage < 0;\r\n          stats.percentage = percentage.toFixed(2)+ \"%\";\r\n          stats.value = aggegatedata[aggegatedata.length - 1];\r\n          this.setState({smallStats: SmallStats}, () => {\r\n            //console.log(\"###State \", this.state.smallStats)\r\n          })\r\n        })\r\n\t})\r\n}\r\n\r\n\r\n  componentDidMount() {\r\n\r\n    let SmallStats = this.state.smallStats;\r\n    SmallStats.forEach((stats)=> {\r\n        const type = stats.label;\r\n        this.getData(type, \"Barcelona\", (aggegatedata, aggregatedDates) =>{\r\n          stats.chartData.datasets[0].data = aggegatedata;\r\n          stats.chartData.labels = aggregatedDates;\r\n          //console.log(\"### Data\", aggegatedata, aggregatedDates);\r\n          let percentage = ((aggegatedata[aggegatedata.length - 1] - aggegatedata[aggegatedata.length - 2])/aggegatedata[aggegatedata.length - 1]*100);\r\n          stats.increase = percentage >= 0;\r\n          stats.decrease = percentage < 0;\r\n          stats.percentage = percentage.toFixed(2)+ \"%\";\r\n          stats.value = aggegatedata[aggegatedata.length - 1];\r\n          this.setState({smallStats: SmallStats}, () => {\r\n            //console.log(\"###State \", this.state.smallStats)\r\n          })\r\n        })\r\n\r\n    })\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n\t\t<Container>\r\n\t\t<Row>\r\n\t\t<Dropdown open={this.state.open} toggle={this.toggle}>\r\n\t\t\t<DropdownToggle>{this.state.market}</DropdownToggle>\r\n\t\t\t<DropdownMenu>\r\n\t\t\t<DropdownItem  onClick={() => this.click(\"Barcelona\")} >Barcelona</DropdownItem>\r\n\t\t\t<DropdownItem onClick={() => this.click(\"Segovia\")}>Segovia</DropdownItem>\r\n\t  </DropdownMenu>\r\n\t</Dropdown>\r\n\t</Row>\r\n\t<br></br>\r\n      <Row>\r\n        {this.state.smallStats.map((stats, idx) => (\r\n          <Col className=\"col-lg mb-4\" key={idx} {...stats.attrs}>\r\n            <SmallStats\r\n              id={`small-stats-${idx}`}\r\n              variation=\"1\"\r\n              chartData={stats.chartData}\r\n              chartLabels={stats.chartLabels}\r\n              label={stats.label}\r\n              value={stats.value}\r\n              percentage={stats.percentage}\r\n              increase={stats.increase}\r\n              decrease={stats.decrease}\r\n            />\r\n          </Col>\r\n        ))}\r\n      </Row>\r\n\t  </Container>\r\n    )\r\n  };\r\n}\r\n\r\nTrigoSumUp.propTypes = {\r\n    /**\r\n     * Whether to hide the logo text, or not.\r\n     */\r\n    hideLogoText: PropTypes.bool\r\n  };\r\n  TrigoSumUp.defaultProps = {\r\n  smallStats: [\r\n    {\r\n      label: \"BlandoPanificable\",\r\n      value: \"1.06\", //Set the latest value!\r\n      percentage: \"0%\", //Increase or decrease %\r\n      increase: true, //If increase\r\n      decrease: false, //If decrease, opposite to increase\r\n      chartLabels: [null, null, null, null], // [null]*n_data\r\n      attrs: { md: \"6\", sm: \"6\" },\r\n      chartData: {\r\n        datasets: [{\r\n          label: \"Price\",\r\n          fill: \"start\",\r\n          borderWidth: 1.5,\r\n          backgroundColor: \"rgba(0, 184, 216, 0.1)\",\r\n          borderColor: \"rgb(0, 184, 216)\",\r\n          data: [0,0,0,0]\r\n        }],\r\n        labels: [null, null, null, null]\r\n      }\r\n\t},\r\n\t{\r\n\t\tlabel: \"Duro\",\r\n\t\tvalue: \"1.04\",\r\n\t\tpercentage: \"0%\",\r\n\t\tincrease: true,\r\n\t\tattrs: { md: \"6\", sm: \"6\" },\r\n\t\tchartData:\r\n\t\t  {\r\n\t\t\tdatasets: [\r\n\t\t\t  {\r\n\t\t\t  label: \"Price\",\r\n\t\t\t  fill: \"start\",\r\n\t\t\t  borderWidth: 1.5,\r\n\t\t\t  backgroundColor: \"rgba(23,198,113,0.1)\",\r\n\t\t\t  borderColor: \"rgb(23,198,113)\",\r\n\t\t\t  data: [0,0,0,0]\r\n\t\t\t}],\r\n\t\t\tlabels: [null, null, null, null]\r\n\t\t  }\r\n\t  }\r\n  ]\r\n};\r\nexport default TrigoSumUp;\r\n","import React from \"react\";\r\nimport { Container, Row, Col, Button } from \"shards-react\";\r\nimport {Link} from 'react-router-dom';\r\n\r\nimport PageTitle from \"../components/common/PageTitle\";\r\nimport TrigoGraph from \"../components/layout/overview/TrigoGraph\";\r\nimport TrigoSumUp from \"../components/graphs/TrigoSumUp\";\r\n\r\n\r\n\r\n\r\nconst TrigoStats = () => (\r\n  <Container fluid className=\"main-content-container px-4\">\r\n    {/* Page Header */}\r\n    <br></br>\r\n    <Link to={{\r\n\t\tpathname: '/historicCereal',\r\n\t\tstate: {\r\n\t\t\tcereal: 'TRIGO'\r\n\t\t}\r\n\t}}>\r\n    <Button className=\"float-right\" size=\"lg\" theme=\"success\" >Histórico de precios</Button>\r\n    </Link>\r\n    <Row noGutters className=\"page-header py-4\">\r\n      <PageTitle title=\"TRIGO\" subtitle=\"\" className=\"text-sm-left mb-3\" />\r\n    </Row>\r\n\r\n    <TrigoSumUp/>\r\n\r\n    <Row>\r\n      {/* Main Graph */}\r\n      <Col lg=\"12\" md=\"12\" sm=\"12\" className=\"mb-4\">\r\n        <TrigoGraph/>\r\n      </Col>\r\n    </Row>\r\n  </Container>\r\n);\r\n\r\nexport default TrigoStats;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Card, CardHeader, CardBody, Button } from \"shards-react\";\r\nimport moment from 'moment';\r\nimport RangeDatePicker from \"../../common/RangeDatePicker\";\r\n\r\nimport PriceGraph from \"../../graphs/PriceGraph\";\r\nimport {getCerealData} from \"../../../backend/cereal\";\r\nimport {parseDate} from \"../../../backend/common\";\r\n\r\n\r\nclass CebadaGraph extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const today = new Date()\r\n    this.state = {\r\n      datatype: \"Pienso\",\r\n      chartData: this.props.chartData,\r\n      startDate: today.setFullYear(today.getFullYear()-2),\r\n      endDate: undefined\r\n    };\r\n    this.changeType = this.changeType.bind(this);\r\n    this.handleStartDateChange = this.handleStartDateChange.bind(this);\r\n    this.handleEndDateChange = this.handleEndDateChange.bind(this)\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData()\r\n  }\r\n\r\n  getData(){\r\n    const params = {type: this.state.datatype}\r\n    if (this.state.startDate != null){\r\n      params.from = moment.utc(this.state.startDate).format(\"DD-MM-YYYY\")\r\n    }\r\n    if (this.state.endDate != null){\r\n      params.to = moment.utc(this.state.endDate).format(\"DD-MM-YYYY\")\r\n    }\r\n\r\n    getCerealData(params,(data) => {\r\n      let all_data = {'Albacete':[], 'Ávila': [], 'CiudadReal': [], 'Burgos': [], 'Guadalajara': [], 'Huesca': [], 'León': [],'Lérida': [],\r\n      'Madrid': [],'Murcia': [],'Navarra': [],'Palencia': [], 'Pontevedra': [], 'Salamanca': [], 'Segovia': [],'Soria': [],'Teruel': [],\r\n      'Valladolid': [],'Zamora': [],'Zaragoza': [],'Cádiz': [],'Córdoba': [],'Sevilla': []};\r\n      let all_dates = [];\r\n      data.forEach((element) => {\r\n        let date = parseDate(element._id);\r\n        let data = element.data;\r\n        const tmp_data =  {'Albacete':null, 'Ávila': null, 'Cáceres': null, 'CiudadReal': null, 'Gerona': null, 'Huesca': null, 'León': null,'Lérida': null,\r\n        'Madrid': null, 'LaCoruña': null, 'Navarra': null, 'Salamanca': null, 'Toledo': null,'Valladolid': null,'Zamora': null,'Zaragoza': null,'Córdoba': null,'Sevilla': null};;\r\n        if (data.length > 0){\r\n          data.forEach((onedata) =>{\r\n            tmp_data[onedata.market] = onedata.value\r\n          });\r\n          all_data[\"Albacete\"].push(tmp_data[\"Albacete\"])\r\n          all_data[\"Ávila\"].push(tmp_data[\"Ávila\"])\r\n          all_data[\"CiudadReal\"].push(tmp_data[\"CiudadReal\"])\r\n          all_data[\"Burgos\"].push(tmp_data[\"Burgos\"])\r\n          all_data[\"Guadalajara\"].push(tmp_data[\"Guadalajara\"])\r\n          all_data[\"Huesca\"].push(tmp_data[\"Huesca\"])\r\n          all_data[\"León\"].push(tmp_data[\"León\"])\r\n          all_data[\"Lérida\"].push(tmp_data[\"Lérida\"])\r\n          all_data[\"Madrid\"].push(tmp_data[\"Madrid\"])\r\n          all_data[\"Murcia\"].push(tmp_data[\"Murcia\"])\r\n          all_data[\"Navarra\"].push(tmp_data[\"Navarra\"])\r\n          all_data[\"Palencia\"].push(tmp_data[\"Palencia\"])\r\n          all_data[\"Pontevedra\"].push(tmp_data[\"Pontevedra\"])\r\n          all_data[\"Salamanca\"].push(tmp_data[\"Salamanca\"])\r\n          all_data[\"Segovia\"].push(tmp_data[\"Segovia\"])\r\n          all_data[\"Soria\"].push(tmp_data[\"Soria\"])\r\n          all_data[\"Teruel\"].push(tmp_data[\"Teruel\"])\r\n          all_data[\"Valladolid\"].push(tmp_data[\"Valladolid\"])\r\n          all_data[\"Zamora\"].push(tmp_data[\"Zamora\"])\r\n          all_data[\"Zaragoza\"].push(tmp_data[\"Zaragoza\"])\r\n          all_data[\"Cádiz\"].push(tmp_data[\"Cádiz\"])\r\n          all_data[\"Córdoba\"].push(tmp_data[\"Córdoba\"])\r\n          all_data[\"Sevilla\"].push(tmp_data[\"Sevilla\"])\r\n          all_dates.push(date)\r\n        }\r\n      });\r\n      let base = this.state.chartData;\r\n      base.labels = all_dates;\r\n      base.datasets[0].data = all_data['Albacete'];\r\n      base.datasets[1].data = all_data['Ávila'];\r\n      base.datasets[2].data = all_data['CiudadReal'];\r\n      base.datasets[3].data = all_data['Burgos'];\r\n      base.datasets[4].data = all_data['Guadalajara'];\r\n      base.datasets[5].data = all_data['Huesca'];\r\n      base.datasets[6].data = all_data['León'];\r\n      base.datasets[7].data = all_data['Lérida'];\r\n      base.datasets[8].data = all_data['Madrid'];\r\n      base.datasets[9].data = all_data['Murcia'];\r\n      base.datasets[10].data = all_data['Navarra'];\r\n      base.datasets[11].data = all_data['Palencia'];\r\n      base.datasets[12].data = all_data['Pontevedra'];\r\n      base.datasets[13].data = all_data['Salamanca'];\r\n      base.datasets[14].data = all_data['Segovia'];\r\n      base.datasets[15].data = all_data['Soria'];\r\n      base.datasets[16].data = all_data['Teruel'];\r\n      base.datasets[17].data = all_data['Valladolid'];\r\n      base.datasets[18].data = all_data['Zamora'];\r\n      base.datasets[19].data = all_data['Zaragoza'];\r\n      base.datasets[20].data = all_data['Cádiz'];\r\n      base.datasets[21].data = all_data['Córdoba'];\r\n      base.datasets[22].data = all_data['Sevilla'];\r\n      this.setState({\r\n        datatype: this.state.datatype,\r\n        chartData: base\r\n      });\r\n      //console.log(this.state.chartData)\r\n    })};\r\n\r\n\r\n  changeType(event) {\r\n    //console.log(\"change_type\");\r\n    this.setState({\r\n      datatype: event.currentTarget.value\r\n    }, () => {\r\n      this.getData()\r\n    })\r\n  }\r\n\r\n    handleStartDateChange(value){\r\n      this.setState({startDate: new Date(value)},()=>{\r\n        this.getData()\r\n      })\r\n\r\n    }\r\n    handleEndDateChange(value){\r\n      this.setState({endDate: new Date(value)},()=>{\r\n        this.getData()\r\n      })\r\n    }\r\n\r\n  render() {\r\n    const { title } = this.props;\r\n    return (\r\n      <Card small className=\"h-10\">\r\n        <CardHeader className=\"border-bottom\">\r\n          <h6 className=\"m-0\">{title}</h6>\r\n        </CardHeader>\r\n        <CardBody className=\"pt-0\">\r\n          <div className=\"border-bottom py-2 bg-light d-flex flex-row\">\r\n            <div sm=\"7\" className=\"d-flex mb-2 mb-sm-0 mr-auto\">\r\n              <RangeDatePicker startDate={this.state.startDate} endDate={this.state.endDate} handleEndDateChange={this.handleEndDateChange} handleStartDateChange={this.handleStartDateChange}/>\r\n            </div>\r\n            <div className=\"d-flex flex-row\">\r\n              <Button\r\n                size=\"sm\"\r\n                value=\"Pienso\"\r\n                className={\"d-flex btn-white ml-auto mr-2 ml-sm-auto mt-3 mt-sm-0\" + (this.state.datatype === \"Pienso\"? \" active\": \"\")}\r\n                onClick={this.changeType}\r\n              >\r\n                Pienso\r\n              </Button>\r\n              <Button\r\n                size=\"sm\"\r\n                value=\"Malta\"\r\n                className={\"d-flex btn-white ml-auto mr-2 ml-sm-auto mt-3 mt-sm-0 \"+ (this.state.datatype === \"Malta\"? \" active\": \"\")}\r\n                onClick={this.changeType}\r\n              >\r\n                Malta\r\n              </Button>\r\n            </div>\r\n\r\n          </div>\r\n          <PriceGraph chartData={this.state.chartData} chartOptions={this.props.chartOptions} />\r\n        </CardBody>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nCebadaGraph.propTypes = {\r\n  /**\r\n   * The component's title.\r\n   */\r\n  title: PropTypes.string,\r\n  /**\r\n   * The chart dataset.\r\n   */\r\n  chartData: PropTypes.object,\r\n  /**\r\n   * The Chart.js options.\r\n   */\r\n  chartOptions: PropTypes.object,\r\n\r\n  datatype: PropTypes.string\r\n};\r\n\r\nCebadaGraph.defaultProps = {\r\n  datatype: \"Pienso\",\r\n  title: \"Precios Medios en Mercados Representativos\",\r\n  chartOptions: {\r\n    responsive: true,\r\n    title: {\r\n      display: true,\r\n      position: 'left',\r\n      text: 'Euro/Tonelada'\r\n    },\r\n    legend: {\r\n      position: \"top\"\r\n    },\r\n    elements: {\r\n      line: {\r\n        // A higher value makes the line look skewed at this ratio.\r\n        tension: 0.3\r\n      },\r\n      point: {\r\n        radius: 0\r\n      }\r\n    },\r\n    scales: {\r\n      xAxes: [\r\n        {\r\n\r\n          ticks: {\r\n            padding: 15,\r\n            autoskip: true,\r\n            maxTicksLimit: 30\r\n            //callback(tick, index) {\r\n              // Jump every 7 values on the X axis labels to avoid clutter.\r\n            //  return index % 4 !== 0 ? null : tick;\r\n           // }\r\n          }\r\n        }\r\n      ],\r\n\r\n    },\r\n    hover: {\r\n      mode: \"nearest\",\r\n      intersect: false\r\n    },\r\n    tooltips: {\r\n      custom: false,\r\n      mode: \"nearest\",\r\n      intersect: false\r\n    }\r\n  },\r\n  chartData: {\r\n    labels: [],\r\n    datasets: [\r\n      {\r\n        label: \"Albacete\",\r\n        fill: \"start\",\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(0,123,255,0.1)\",\r\n        \"borderColor\": \"rgba(0,123,255,1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgb(0,123,255)\",\r\n        \"borderWidth\": 1.5,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 3\r\n      },\r\n      {\r\n        label: \"Ávila\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(255,65,105,0.1)\",\r\n        \"borderColor\": \"rgba(255,65,105,1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(255,65,105,1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(255,65,105,1)\"\r\n      },\r\n      {\r\n        label: \"CiudadReal\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(234, 218, 77, 0.1)\",\r\n        \"borderColor\": \"rgba(234, 218, 77, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(234, 218, 77, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(234, 218, 77, 1)\"\r\n      },\r\n      {\r\n        label: \"Burgos\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        \"data\": [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(255,65,105,0.1)\",\r\n        \"borderColor\": \"rgba(255,65,105,1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(255,65,105,1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(255,65,105,1)\"\r\n      },\r\n      {\r\n        label: \"Guadalajara\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        \"data\": [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(255,65,105,0.1)\",\r\n        \"borderColor\": \"rgba(255,65,105,1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(255,65,105,1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(255,65,105,1)\"\r\n      },\r\n      {\r\n        label: \"Huesca\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(137, 234, 77, 0.1)\",\r\n        \"borderColor\": \"rgba(92, 201, 24, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(92, 201, 24, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(92, 201, 24, 1)\"\r\n      },\r\n      {\r\n        label: \"León\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(201, 100, 24, 0.1)\",\r\n        \"borderColor\": \"rgba(201, 100, 24, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(201, 100, 24, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(201, 100, 24, 1)\"\r\n      },\r\n      {\r\n        label: \"Lérida\",\r\n        fill: \"start\",\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(201, 100, 24, 0.1)\",\r\n        \"borderColor\": \"rgba(201, 100, 24, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(201, 100, 24, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(201, 100, 24, 1)\"\r\n      },\r\n      {\r\n        label: \"Madrid\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(189, 55, 10, 0.1)\",\r\n        \"borderColor\": \"rgba(189, 55, 10, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(189, 55, 10, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(189, 55, 10, 1)\"\r\n      },\r\n      {\r\n        label: \"Murcia\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(189, 144, 10, 0.1)\",\r\n        \"borderColor\": \"rgba(189, 144, 10, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(189, 144, 10, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(189, 144, 10, 1)\"\r\n      },\r\n      {\r\n        label: \"Navarra\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(162, 189, 10, 0.1)\",\r\n        \"borderColor\": \"rgba(162, 189, 10, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(162, 189, 10, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(162, 189, 10, 1)\"\r\n      },\r\n      {\r\n        label: \"Palencia\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(50, 121, 6, 0.1)\",\r\n        \"borderColor\": \"rgba(50, 121, 6, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(50, 121, 6, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(50, 121, 6, 1)\"\r\n      },\r\n      {\r\n        label: \"Pontevedra\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(151, 24, 201, 0.1)\",\r\n        \"borderColor\": \"rgba(151, 24, 201, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(151, 24, 201, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(151, 24, 201, 1)\"\r\n      },\r\n      {\r\n        label: \"Salamanca\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(0, 229, 255, 0.1)\",\r\n        \"borderColor\": \"rgba(0, 229, 255, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(0, 229, 255, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(0, 229, 255, 1)\"\r\n      },\r\n      {\r\n        label: \"Segovia\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(255, 0, 170, 0.1)\",\r\n        \"borderColor\": \"rgba(255, 0, 170, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(255, 0, 170, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(255, 0, 170, 1)\"\r\n      },\r\n      {\r\n        label: \"Soria\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(6, 121, 81, 0.1)\",\r\n        \"borderColor\": \"rgba(6, 121, 81, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(6, 121, 81, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(6, 121, 81, 1)\"\r\n      },\r\n      {\r\n        label: \"Tarragona\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(6, 73, 121, 0.1)\",\r\n        \"borderColor\": \"rgba(6, 73, 121, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(6, 73, 121, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(6, 73, 121, 1)\"\r\n      },\r\n      {\r\n        label: \"Valladolid\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(8, 6, 121, 0.1)\",\r\n        \"borderColor\": \"rgba(8, 6, 121, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(8, 6, 121, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(8, 6, 121, 1)\"\r\n      },\r\n      {\r\n        label: \"Zamora\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(91, 6, 121, 0.1)\",\r\n        \"borderColor\": \"rgba(91, 6, 121, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(91, 6, 121, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(91, 6, 121, 1)\"\r\n      },\r\n      {\r\n        label: \"Zaragoza\",\r\n        fill: \"start\",\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(255,0,0,0.1)\",\r\n        \"borderColor\": \"rgba(255,0,0,1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgb(243, 8, 22)\",\r\n        \"borderWidth\": 1.5,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 3\r\n      },\r\n      {\r\n        label: \"Cádiz\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(184, 10, 94, 0.1)\",\r\n        \"borderColor\": \"rgba(184, 10, 94, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(184, 10, 94, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(184, 10, 94, 1)\"\r\n      },\r\n      {\r\n        label: \"Córdoba\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(179, 145, 9, 0.1)\",\r\n        \"borderColor\": \"rgba(179, 145, 9, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(179, 145, 9, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(179, 145, 9, 1)\"\r\n      },\r\n      {\r\n        label: \"Sevilla\",\r\n        fill: \"start\",\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(8, 82, 155, 0.1)\",\r\n        \"borderColor\": \"rgba(8, 82, 155, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(8, 82, 155, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(8, 82, 155, 1)\"\r\n      },\r\n    ]\r\n  }\r\n};\r\n\r\nexport default CebadaGraph;\r\n","import SmallStats from \"../common/SmallStats\";\r\nimport React from \"react\";\r\nimport {Col, Row, Container} from \"shards-react\";\r\nimport PropTypes from \"prop-types\";\r\nimport moment from \"moment\";\r\nimport {getCerealData} from \"../../backend/cereal\";\r\nimport {\r\n\tDropdown,\r\n\tDropdownToggle,\r\n\tDropdownMenu,\r\n\tDropdownItem\r\n} from \"shards-react\";\r\n\r\nclass CebadaSumUp extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n\t  smallStats: this.props.smallStats,\r\n\t  open: false,\r\n\t  market: 'Zaragoza'\r\n\t};\r\n\tthis.toggle = this.toggle.bind(this);\r\n\tthis.click = this.click.bind(this);\r\n\r\n  }\r\n\r\n  toggle() {\r\n    this.setState(prevState => {\r\n      return { open: !prevState.open };\r\n    });\r\n  }\r\n\r\n  getData(type, market, callback){\r\n    getCerealData({\"limit\": 4, \"type\": type, \"market\": market}, (data)=>{\r\n      //console.log(\"### Done\", type,  data);\r\n      if (data.length === 0){\r\n        callback([0,0,0,0])\r\n      }else{\r\n        const aggregateData = data.map((item) => {\r\n          return item.data[0].value\r\n        });\r\n        const aggregatedDates = data.map((item) =>{\r\n          return moment(item._id).format('DD-MM-YYYY');\r\n        });\r\n\r\n        callback(aggregateData, aggregatedDates)\r\n    }}\r\n      )\r\n  }\r\n\r\n  click(name){\r\n    let SmallStats = this.state.smallStats;\r\n    SmallStats.forEach((stats)=> {\r\n\t\tconst type = stats.label;\r\n\t\tthis.setState({market: name});\r\n        this.getData(type, name, (aggegatedata, aggregatedDates) =>{\r\n          stats.chartData.datasets[0].data = aggegatedata;\r\n          stats.chartData.labels = aggregatedDates;\r\n          //console.log(\"### Data\", aggegatedata, aggregatedDates);\r\n          let percentage = ((aggegatedata[aggegatedata.length - 1] - aggegatedata[aggegatedata.length - 2])/aggegatedata[aggegatedata.length - 1]*100);\r\n          stats.increase = percentage >= 0;\r\n          stats.decrease = percentage < 0;\r\n          stats.percentage = percentage.toFixed(2)+ \"%\";\r\n          stats.value = aggegatedata[aggegatedata.length - 1];\r\n          this.setState({smallStats: SmallStats}, () => {\r\n            //console.log(\"###State \", this.state.smallStats)\r\n          })\r\n        })\r\n\t})\r\n}\r\n\r\n\r\n  componentDidMount() {\r\n\r\n    let SmallStats = this.state.smallStats;\r\n    SmallStats.forEach((stats)=> {\r\n        const type = stats.label;\r\n        this.getData(type, \"Zaragoza\", (aggegatedata, aggregatedDates) =>{\r\n          stats.chartData.datasets[0].data = aggegatedata;\r\n          stats.chartData.labels = aggregatedDates;\r\n          //console.log(\"### Data\", aggegatedata, aggregatedDates);\r\n          let percentage = ((aggegatedata[aggegatedata.length - 1] - aggegatedata[aggegatedata.length - 2])/aggegatedata[aggegatedata.length - 1]*100);\r\n          stats.increase = percentage >= 0;\r\n          stats.decrease = percentage < 0;\r\n          stats.percentage = percentage.toFixed(2)+ \"%\";\r\n          stats.value = aggegatedata[aggegatedata.length - 1];\r\n          this.setState({smallStats: SmallStats}, () => {\r\n            //console.log(\"###State \", this.state.smallStats)\r\n          })\r\n        })\r\n\r\n    })\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n\t\t<Container>\r\n\t\t<Row>\r\n\t\t<Dropdown open={this.state.open} toggle={this.toggle}>\r\n\t\t\t<DropdownToggle>{this.state.market}</DropdownToggle>\r\n\t\t\t<DropdownMenu>\r\n      <DropdownItem  onClick={() => this.click(\"Zaragoza\")} >Zaragoza</DropdownItem>\r\n\t\t\t<DropdownItem  onClick={() => this.click(\"Huesca\")} >Huesca</DropdownItem>\r\n\t\t\t<DropdownItem onClick={() => this.click(\"Segovia\")}>Segovia</DropdownItem>\r\n\t  </DropdownMenu>\r\n\t</Dropdown>\r\n\t</Row>\r\n\t<br></br>\r\n      <Row>\r\n        {this.state.smallStats.map((stats, idx) => (\r\n          <Col className=\"col-lg mb-4\" key={idx} {...stats.attrs}>\r\n            <SmallStats\r\n              id={`small-stats-${idx}`}\r\n              variation=\"1\"\r\n              chartData={stats.chartData}\r\n              chartLabels={stats.chartLabels}\r\n              label={stats.label}\r\n              value={stats.value}\r\n              percentage={stats.percentage}\r\n              increase={stats.increase}\r\n              decrease={stats.decrease}\r\n            />\r\n          </Col>\r\n        ))}\r\n      </Row>\r\n\t  </Container>\r\n    )\r\n  };\r\n}\r\n\r\nCebadaSumUp.propTypes = {\r\n    /**\r\n     * Whether to hide the logo text, or not.\r\n     */\r\n    hideLogoText: PropTypes.bool\r\n  };\r\n  CebadaSumUp.defaultProps = {\r\n  smallStats: [\r\n    {\r\n      label: \"Pienso\",\r\n      value: \"1.06\", //Set the latest value!\r\n      percentage: \"0%\", //Increase or decrease %\r\n      increase: true, //If increase\r\n      decrease: false, //If decrease, opposite to increase\r\n      chartLabels: [null, null, null, null], // [null]*n_data\r\n      attrs: { md: \"6\", sm: \"6\" },\r\n      chartData: {\r\n        datasets: [{\r\n          label: \"Price\",\r\n          fill: \"start\",\r\n          borderWidth: 1.5,\r\n          backgroundColor: \"rgba(0, 184, 216, 0.1)\",\r\n          borderColor: \"rgb(0, 184, 216)\",\r\n          data: [0,0,0,0]\r\n        }],\r\n        labels: [null, null, null, null]\r\n      }\r\n    },\r\n    {\r\n      label: \"Malta\",\r\n      value: \"1.04\",\r\n      percentage: \"0%\",\r\n      increase: true,\r\n      attrs: { md: \"6\", sm: \"6\" },\r\n      chartData:\r\n        {\r\n          datasets: [\r\n            {\r\n            label: \"Price\",\r\n            fill: \"start\",\r\n            borderWidth: 1.5,\r\n            backgroundColor: \"rgba(23,198,113,0.1)\",\r\n            borderColor: \"rgb(23,198,113)\",\r\n            data: [0,0,0,0]\r\n          }],\r\n          labels: [null, null, null, null]\r\n        }\r\n    }\r\n  ]\r\n};\r\nexport default CebadaSumUp;\r\n","import React from \"react\";\r\nimport { Container, Row, Col, Button } from \"shards-react\";\r\nimport {Link} from 'react-router-dom';\r\n\r\nimport PageTitle from \"../components/common/PageTitle\";\r\nimport CebadaGraph from \"../components/layout/overview/CebadaGraph\";\r\nimport CebadaSumUp from \"../components/graphs/CebadaSumUp\";\r\n\r\n\r\n\r\nconst CebadaStats = () => (\r\n  <Container fluid className=\"main-content-container px-4\">\r\n    {/* Page Header */}\r\n    <br></br>\r\n    <Link to={{\r\n\t\tpathname: '/historicCereal',\r\n\t\tstate: {\r\n\t\t\tcereal: 'CEBADA'\r\n\t\t}\r\n\t}}>\r\n    <Button className=\"float-right\" size=\"lg\" theme=\"success\" >Histórico de precios</Button>\r\n    </Link>\r\n\r\n    <Row noGutters className=\"page-header py-4\">\r\n      <PageTitle title=\"CEBADA\" subtitle=\"\" className=\"text-sm-left mb-3\" />\r\n    </Row>\r\n\r\n    <CebadaSumUp/>\r\n\r\n    <Row>\r\n      {/* Main Graph */}\r\n      <Col lg=\"12\" md=\"12\" sm=\"12\" className=\"mb-4\">\r\n\t\t<CebadaGraph/>\r\n      </Col>\r\n    </Row>\r\n  </Container>\r\n);\r\n\r\nexport default CebadaStats;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Card, CardHeader, CardBody, Button } from \"shards-react\";\r\nimport moment from 'moment';\r\nimport RangeDatePicker from \"../../common/RangeDatePicker\";\r\n\r\nimport PriceGraph from \"../../graphs/PriceGraph\";\r\nimport {getCerealData} from \"../../../backend/cereal\";\r\nimport {parseDate} from \"../../../backend/common\";\r\n\r\n\r\nclass MaizGraph extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const today = new Date()\r\n    this.state = {\r\n      datatype: \"Grano\",\r\n      chartData: this.props.chartData,\r\n      startDate: today.setFullYear(today.getFullYear()-2),\r\n      endDate: undefined\r\n    };\r\n    this.changeType = this.changeType.bind(this);\r\n    this.handleStartDateChange = this.handleStartDateChange.bind(this);\r\n    this.handleEndDateChange = this.handleEndDateChange.bind(this)\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData()\r\n  }\r\n\r\n  getData(){\r\n    const params = {type: this.state.datatype}\r\n    if (this.state.startDate != null){\r\n      params.from = moment.utc(this.state.startDate).format(\"DD-MM-YYYY\")\r\n    }\r\n    if (this.state.endDate != null){\r\n      params.to = moment.utc(this.state.endDate).format(\"DD-MM-YYYY\")\r\n    }\r\n\r\n    getCerealData(params,(data) => {\r\n      let all_data = {'Albacete':[], 'Badajoz': [], 'Cáceres': [], 'CiudadReal': [], 'Gerona': [], 'Huesca': [], 'León': [],'Lérida': [],\r\n      'Madrid': [],'LaCoruña': [],'Navarra': [], 'Pontevedra': [], 'Salamanca': [],'Toledo': [],\r\n      'Valladolid': [],'Zamora': [],'Zaragoza': [],'Córdoba': [],'Sevilla': []};\r\n      let all_dates = [];\r\n      data.forEach((element) => {\r\n        let date = parseDate(element._id);\r\n        let data = element.data;\r\n        const tmp_data =  {'Albacete':null, 'Ávila': null, 'Cáceres': null, 'CiudadReal': null, 'Gerona': null, 'Huesca': null, 'León': null,'Lérida': null,\r\n        'Madrid': null, 'LaCoruña': null, 'Navarra': null, 'Salamanca': null, 'Toledo': null,'Valladolid': null,'Zamora': null,'Zaragoza': null,'Córdoba': null,'Sevilla': null};;\r\n        if (data.length > 0){\r\n          data.forEach((onedata) =>{\r\n            tmp_data[onedata.market] = onedata.value\r\n          });\r\n          all_data[\"Albacete\"].push(tmp_data[\"Albacete\"])\r\n          all_data[\"Badajoz\"].push(tmp_data[\"Badajoz\"])\r\n          all_data[\"Cáceres\"].push(tmp_data[\"Cáceres\"])\r\n          all_data[\"CiudadReal\"].push(tmp_data[\"CiudadReal\"])\r\n          all_data[\"Gerona\"].push(tmp_data[\"Gerona\"])\r\n          all_data[\"Huesca\"].push(tmp_data[\"Huesca\"])\r\n          all_data[\"León\"].push(tmp_data[\"León\"])\r\n          all_data[\"Lérida\"].push(tmp_data[\"Lérida\"])\r\n          all_data[\"Madrid\"].push(tmp_data[\"Madrid\"])\r\n          all_data[\"LaCoruña\"].push(tmp_data[\"LaCoruña\"])\r\n          all_data[\"Navarra\"].push(tmp_data[\"Navarra\"])\r\n          all_data[\"Pontevedra\"].push(tmp_data[\"Pontevedra\"])\r\n          all_data[\"Salamanca\"].push(tmp_data[\"Salamanca\"])\r\n          all_data[\"Toledo\"].push(tmp_data[\"Toledo\"])\r\n          all_data[\"Valladolid\"].push(tmp_data[\"Valladolid\"])\r\n          all_data[\"Zamora\"].push(tmp_data[\"Zamora\"])\r\n          all_data[\"Zaragoza\"].push(tmp_data[\"Zaragoza\"])\r\n          all_data[\"Córdoba\"].push(tmp_data[\"Córdoba\"])\r\n          all_data[\"Sevilla\"].push(tmp_data[\"Sevilla\"])\r\n          all_dates.push(date)\r\n        }\r\n      });\r\n      let base = this.state.chartData;\r\n      base.labels = all_dates;\r\n      base.datasets[0].data = all_data['Albacete'];\r\n      base.datasets[1].data = all_data['Badajoz'];\r\n      base.datasets[2].data = all_data['Cáceres'];\r\n      base.datasets[3].data = all_data['CiudadReal'];\r\n      base.datasets[4].data = all_data['Gerona'];\r\n      base.datasets[5].data = all_data['Huesca'];\r\n      base.datasets[6].data = all_data['León'];\r\n      base.datasets[7].data = all_data['Lérida'];\r\n      base.datasets[8].data = all_data['Madrid'];\r\n      base.datasets[9].data = all_data['LaCoruña'];\r\n      base.datasets[10].data = all_data['Navarra'];\r\n      base.datasets[11].data = all_data['Pontevedra'];\r\n      base.datasets[12].data = all_data['Salamanca'];\r\n      base.datasets[13].data = all_data['Toledo'];\r\n      base.datasets[14].data = all_data['Valladolid'];\r\n      base.datasets[15].data = all_data['Zamora'];\r\n      base.datasets[16].data = all_data['Zaragoza'];\r\n      base.datasets[17].data = all_data['Córdoba'];\r\n      base.datasets[18].data = all_data['Sevilla'];\r\n      this.setState({\r\n        datatype: this.state.datatype,\r\n        chartData: base\r\n      });\r\n      //console.log(this.state.chartData)\r\n    })};\r\n\r\n\r\n  changeType(event) {\r\n    //console.log(\"change_type\");\r\n    this.setState({\r\n      datatype: event.currentTarget.value\r\n    }, () => {\r\n      this.getData()\r\n    })\r\n  }\r\n\r\n    handleStartDateChange(value){\r\n      this.setState({startDate: new Date(value)},()=>{\r\n        this.getData()\r\n      })\r\n\r\n    }\r\n    handleEndDateChange(value){\r\n      this.setState({endDate: new Date(value)},()=>{\r\n        this.getData()\r\n      })\r\n    }\r\n\r\n  render() {\r\n    const { title } = this.props;\r\n    return (\r\n      <Card small className=\"h-10\">\r\n        <CardHeader className=\"border-bottom\">\r\n          <h6 className=\"m-0\">{title}</h6>\r\n        </CardHeader>\r\n        <CardBody className=\"pt-0\">\r\n          <div className=\"border-bottom py-2 bg-light d-flex flex-row\">\r\n            <div sm=\"7\" className=\"d-flex mb-2 mb-sm-0 mr-auto\">\r\n              <RangeDatePicker startDate={this.state.startDate} endDate={this.state.endDate} handleEndDateChange={this.handleEndDateChange} handleStartDateChange={this.handleStartDateChange}/>\r\n            </div>\r\n            <div className=\"d-flex flex-row\">\r\n              <Button\r\n                size=\"sm\"\r\n                value=\"Grano\"\r\n                className={\"d-flex btn-white ml-auto mr-2 ml-sm-auto mt-3 mt-sm-0\" + (this.state.datatype === \"Grano\"? \" active\": \"\")}\r\n                onClick={this.changeType}\r\n              >\r\n                Grano\r\n              </Button>\r\n            </div>\r\n\r\n          </div>\r\n          <PriceGraph chartData={this.state.chartData} chartOptions={this.props.chartOptions} />\r\n        </CardBody>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nMaizGraph.propTypes = {\r\n  /**\r\n   * The component's title.\r\n   */\r\n  title: PropTypes.string,\r\n  /**\r\n   * The chart dataset.\r\n   */\r\n  chartData: PropTypes.object,\r\n  /**\r\n   * The Chart.js options.\r\n   */\r\n  chartOptions: PropTypes.object,\r\n\r\n  datatype: PropTypes.string\r\n};\r\n\r\nMaizGraph.defaultProps = {\r\n  datatype: \"Grano\",\r\n  title: \"Precios Medios en Mercados Representativos\",\r\n  chartOptions: {\r\n    responsive: true,\r\n    title: {\r\n      display: true,\r\n      position: 'left',\r\n      text: 'Euro/Tonelada'\r\n    },\r\n    legend: {\r\n      position: \"top\"\r\n    },\r\n    elements: {\r\n      line: {\r\n        // A higher value makes the line look skewed at this ratio.\r\n        tension: 0.3\r\n      },\r\n      point: {\r\n        radius: 0\r\n      }\r\n    },\r\n    scales: {\r\n      xAxes: [\r\n        {\r\n\r\n          ticks: {\r\n            padding: 15,\r\n            autoskip: true,\r\n            maxTicksLimit: 30\r\n            //callback(tick, index) {\r\n              // Jump every 7 values on the X axis labels to avoid clutter.\r\n            //  return index % 4 !== 0 ? null : tick;\r\n           // }\r\n          }\r\n        }\r\n      ],\r\n\r\n    },\r\n    hover: {\r\n      mode: \"nearest\",\r\n      intersect: false\r\n    },\r\n    tooltips: {\r\n      custom: false,\r\n      mode: \"nearest\",\r\n      intersect: false\r\n    }\r\n  },\r\n  chartData: {\r\n    labels: [],\r\n    datasets: [\r\n      {\r\n        label: \"Albacete\",\r\n        fill: \"start\",\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(0,123,255,0.1)\",\r\n        \"borderColor\": \"rgba(0,123,255,1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgb(0,123,255)\",\r\n        \"borderWidth\": 1.5,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 3\r\n      },\r\n      {\r\n        label: \"Badajoz\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(255,65,105,0.1)\",\r\n        \"borderColor\": \"rgba(255,65,105,1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(255,65,105,1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(255,65,105,1)\"\r\n      },\r\n      {\r\n        label: \"Cáceres\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(234, 218, 77, 0.1)\",\r\n        \"borderColor\": \"rgba(234, 218, 77, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(234, 218, 77, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(234, 218, 77, 1)\"\r\n      },\r\n      {\r\n        label: \"CiudadReal\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        \"data\": [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(255,65,105,0.1)\",\r\n        \"borderColor\": \"rgba(255,65,105,1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(255,65,105,1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(255,65,105,1)\"\r\n      },\r\n      {\r\n        label: \"Gerona\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        \"data\": [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(255,65,105,0.1)\",\r\n        \"borderColor\": \"rgba(255,65,105,1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(255,65,105,1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(255,65,105,1)\"\r\n      },\r\n      {\r\n        label: \"Huesca\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(137, 234, 77, 0.1)\",\r\n        \"borderColor\": \"rgba(92, 201, 24, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(92, 201, 24, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(92, 201, 24, 1)\"\r\n      },\r\n      {\r\n        label: \"León\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(201, 100, 24, 0.1)\",\r\n        \"borderColor\": \"rgba(201, 100, 24, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(201, 100, 24, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(201, 100, 24, 1)\"\r\n      },\r\n      {\r\n        label: \"Lérida\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(201, 100, 24, 0.1)\",\r\n        \"borderColor\": \"rgba(201, 100, 24, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(201, 100, 24, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(201, 100, 24, 1)\"\r\n      },\r\n      {\r\n        label: \"Madrid\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(189, 55, 10, 0.1)\",\r\n        \"borderColor\": \"rgba(189, 55, 10, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(189, 55, 10, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(189, 55, 10, 1)\"\r\n      },\r\n      {\r\n        label: \"LaCoruña\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(189, 144, 10, 0.1)\",\r\n        \"borderColor\": \"rgba(189, 144, 10, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(189, 144, 10, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(189, 144, 10, 1)\"\r\n      },\r\n      {\r\n        label: \"Navarra\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(162, 189, 10, 0.1)\",\r\n        \"borderColor\": \"rgba(162, 189, 10, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(162, 189, 10, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(162, 189, 10, 1)\"\r\n      },\r\n      {\r\n        label: \"Pontevedra\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(151, 24, 201, 0.1)\",\r\n        \"borderColor\": \"rgba(151, 24, 201, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(151, 24, 201, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(151, 24, 201, 1)\"\r\n      },\r\n      {\r\n        label: \"Salamanca\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(0, 229, 255, 0.1)\",\r\n        \"borderColor\": \"rgba(0, 229, 255, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(0, 229, 255, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(0, 229, 255, 1)\"\r\n      },\r\n      {\r\n        label: \"Toledo\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(6, 73, 121, 0.1)\",\r\n        \"borderColor\": \"rgba(6, 73, 121, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(6, 73, 121, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(6, 73, 121, 1)\"\r\n      },\r\n      {\r\n        label: \"Valladolid\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(8, 6, 121, 0.1)\",\r\n        \"borderColor\": \"rgba(8, 6, 121, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(8, 6, 121, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(8, 6, 121, 1)\"\r\n      },\r\n      {\r\n        label: \"Zamora\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(91, 6, 121, 0.1)\",\r\n        \"borderColor\": \"rgba(91, 6, 121, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(91, 6, 121, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(91, 6, 121, 1)\"\r\n      },\r\n      {\r\n        label: \"Zaragoza\",\r\n        fill: \"start\",\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(255,0,0,0.1)\",\r\n        \"borderColor\": \"rgba(255,0,0,1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgb(243, 8, 22)\",\r\n        \"borderWidth\": 1.5,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 3\r\n      },\r\n      {\r\n        label: \"Córdoba\",\r\n        fill: \"start\",\r\n        hidden: true,\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(179, 145, 9, 0.1)\",\r\n        \"borderColor\": \"rgba(179, 145, 9, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(179, 145, 9, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(179, 145, 9, 1)\"\r\n      },\r\n      {\r\n        label: \"Sevilla\",\r\n        fill: \"start\",\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(8, 82, 155, 0.1)\",\r\n        \"borderColor\": \"rgba(8, 82, 155, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(8, 82, 155, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(8, 82, 155, 1)\"\r\n      },\r\n    ]\r\n  }\r\n};\r\n\r\nexport default MaizGraph;\r\n","import SmallStats from \"../common/SmallStats\";\r\nimport React from \"react\";\r\nimport {Col, Row, Container} from \"shards-react\";\r\nimport PropTypes from \"prop-types\";\r\nimport moment from \"moment\";\r\nimport {getCerealData} from \"../../backend/cereal\";\r\nimport {\r\n\tDropdown,\r\n\tDropdownToggle,\r\n\tDropdownMenu,\r\n\tDropdownItem\r\n} from \"shards-react\";\r\n\r\nclass MaizSumUp extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n\t  smallStats: this.props.smallStats,\r\n\t  open: false,\r\n\t  market: 'Badajoz'\r\n\t};\r\n\tthis.toggle = this.toggle.bind(this);\r\n\tthis.click = this.click.bind(this);\r\n\r\n  }\r\n\r\n  toggle() {\r\n    this.setState(prevState => {\r\n      return { open: !prevState.open };\r\n    });\r\n  }\r\n\r\n  getData(type, market, callback){\r\n    getCerealData({\"limit\": 4, \"type\": type, \"market\": market}, (data)=>{\r\n      //console.log(\"### Done\", type,  data);\r\n      if (data.length === 0){\r\n        callback([0,0,0,0])\r\n      }else{\r\n        const aggregateData = data.map((item) => {\r\n          return item.data[0].value\r\n        });\r\n        const aggregatedDates = data.map((item) =>{\r\n          return moment(item._id).format('DD-MM-YYYY');\r\n        });\r\n\r\n        callback(aggregateData, aggregatedDates)\r\n    }}\r\n      )\r\n  }\r\n\r\n  click(name){\r\n    let SmallStats = this.state.smallStats;\r\n    SmallStats.forEach((stats)=> {\r\n\t\tconst type = stats.label;\r\n\t\tthis.setState({market: name});\r\n        this.getData(type, name, (aggegatedata, aggregatedDates) =>{\r\n          stats.chartData.datasets[0].data = aggegatedata;\r\n          stats.chartData.labels = aggregatedDates;\r\n          //console.log(\"### Data\", aggegatedata, aggregatedDates);\r\n          let percentage = ((aggegatedata[aggegatedata.length - 1] - aggegatedata[aggegatedata.length - 2])/aggegatedata[aggegatedata.length - 1]*100);\r\n          stats.increase = percentage >= 0;\r\n          stats.decrease = percentage < 0;\r\n          stats.percentage = percentage.toFixed(2)+ \"%\";\r\n          stats.value = aggegatedata[aggegatedata.length - 1];\r\n          this.setState({smallStats: SmallStats}, () => {\r\n            //console.log(\"###State \", this.state.smallStats)\r\n          })\r\n        })\r\n\t})\r\n}\r\n\r\n\r\n  componentDidMount() {\r\n\r\n    let SmallStats = this.state.smallStats;\r\n    SmallStats.forEach((stats)=> {\r\n        const type = stats.label;\r\n        this.getData(type, \"Huesca\", (aggegatedata, aggregatedDates) =>{\r\n          stats.chartData.datasets[0].data = aggegatedata;\r\n          stats.chartData.labels = aggregatedDates;\r\n          //console.log(\"### Data\", aggegatedata, aggregatedDates);\r\n          let percentage = ((aggegatedata[aggegatedata.length - 1] - aggegatedata[aggegatedata.length - 2])/aggegatedata[aggegatedata.length - 1]*100);\r\n          stats.increase = percentage >= 0;\r\n          stats.decrease = percentage < 0;\r\n          stats.percentage = percentage.toFixed(2)+ \"%\";\r\n          stats.value = aggegatedata[aggegatedata.length - 1];\r\n          this.setState({smallStats: SmallStats}, () => {\r\n            //console.log(\"###State \", this.state.smallStats)\r\n          })\r\n        })\r\n\r\n    })\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n\t\t<Container>\r\n\t\t<Row>\r\n\t\t<Dropdown open={this.state.open} toggle={this.toggle}>\r\n\t\t\t<DropdownToggle>{this.state.market}</DropdownToggle>\r\n\t\t\t<DropdownMenu>\r\n\t\t\t<DropdownItem  onClick={() => this.click(\"Huesca\")} >Huesca</DropdownItem>\r\n\t\t\t<DropdownItem onClick={() => this.click(\"Segovia\")}>Segovia</DropdownItem>\r\n\t  </DropdownMenu>\r\n\t</Dropdown>\r\n\t</Row>\r\n\t<br></br>\r\n      <Row>\r\n        {this.state.smallStats.map((stats, idx) => (\r\n          <Col className=\"col-lg mb-4\" key={idx} {...stats.attrs}>\r\n            <SmallStats\r\n              id={`small-stats-${idx}`}\r\n              variation=\"1\"\r\n              chartData={stats.chartData}\r\n              chartLabels={stats.chartLabels}\r\n              label={stats.label}\r\n              value={stats.value}\r\n              percentage={stats.percentage}\r\n              increase={stats.increase}\r\n              decrease={stats.decrease}\r\n            />\r\n          </Col>\r\n        ))}\r\n      </Row>\r\n\t  </Container>\r\n    )\r\n  };\r\n}\r\n\r\nMaizSumUp.propTypes = {\r\n    /**\r\n     * Whether to hide the logo text, or not.\r\n     */\r\n    hideLogoText: PropTypes.bool\r\n  };\r\n  MaizSumUp.defaultProps = {\r\n  smallStats: [\r\n    {\r\n      label: \"Grano\",\r\n      value: \"1.06\", //Set the latest value!\r\n      percentage: \"0%\", //Increase or decrease %\r\n      increase: true, //If increase\r\n      decrease: false, //If decrease, opposite to increase\r\n      chartLabels: [null, null, null, null], // [null]*n_data\r\n      attrs: { md: \"6\", sm: \"6\" },\r\n      chartData: {\r\n        datasets: [{\r\n          label: \"Price\",\r\n          fill: \"start\",\r\n          borderWidth: 1.5,\r\n          backgroundColor: \"rgba(0, 184, 216, 0.1)\",\r\n          borderColor: \"rgb(0, 184, 216)\",\r\n          data: [0,0,0,0]\r\n        }],\r\n        labels: [null, null, null, null]\r\n      }\r\n    }\r\n  ]\r\n};\r\nexport default MaizSumUp;\r\n","import React from \"react\";\r\nimport { Container, Row, Col, Button } from \"shards-react\";\r\nimport {Link} from 'react-router-dom';\r\n\r\nimport PageTitle from \"../components/common/PageTitle\";\r\nimport MaizGraph from \"../components/layout/overview/MaizGraph\";\r\nimport MaizSumUp from \"../components/graphs/MaizSumUp\";\r\n\r\n\r\n\r\n\r\nconst MaizStats = () => (\r\n  <Container fluid className=\"main-content-container px-4\">\r\n    {/* Page Header */}\r\n    <br></br>\r\n    <Link to={{\r\n\t\tpathname: '/historicCereal',\r\n\t\tstate: {\r\n\t\t\tcereal: 'MAIZ'\r\n\t\t}\r\n\t}}>\r\n    <Button className=\"float-right\" size=\"lg\" theme=\"success\" >Histórico de precios</Button>\r\n    </Link>\r\n\r\n    <Row noGutters className=\"page-header py-4\">\r\n      <PageTitle title=\"MAIZ\" subtitle=\"\" className=\"text-sm-left mb-3\" />\r\n    </Row>\r\n\t\r\n\t<MaizSumUp/>\r\n\r\n    <Row>\r\n      {/* Main Graph */}\r\n      <Col lg=\"12\" md=\"12\" sm=\"12\" className=\"mb-4\">\r\n\t\t<MaizGraph/>\r\n      </Col>\r\n    </Row>\r\n  </Container>\r\n);\r\n\r\nexport default MaizStats;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Card, CardHeader, CardBody, Button } from \"shards-react\";\r\nimport moment from 'moment';\r\nimport RangeDatePicker from \"../../common/RangeDatePicker\";\r\n\r\nimport PriceGraph from \"../../graphs/PriceGraph\";\r\nimport {getCerealData} from \"../../../backend/cereal\";\r\nimport {parseDate} from \"../../../backend/common\";\r\n\r\n\r\nclass ArrozGraph extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const today = new Date()\r\n    this.state = {\r\n      datatype: \"cáscara(Indica)\",\r\n      chartData: this.props.chartData,\r\n      startDate: today.setFullYear(today.getFullYear()-2),\r\n      endDate: undefined\r\n    };\r\n    this.changeType = this.changeType.bind(this);\r\n    this.handleStartDateChange = this.handleStartDateChange.bind(this);\r\n    this.handleEndDateChange = this.handleEndDateChange.bind(this)\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData()\r\n  }\r\n\r\n  getData(){\r\n    const params = {type: this.state.datatype}\r\n    if (this.state.startDate != null){\r\n      params.from = moment.utc(this.state.startDate).format(\"DD-MM-YYYY\")\r\n    }\r\n    if (this.state.endDate != null){\r\n      params.to = moment.utc(this.state.endDate).format(\"DD-MM-YYYY\")\r\n    }\r\n\r\n    getCerealData(params,(data) => {\r\n      let all_data = {'Badajoz':[], 'Sevilla': [], 'Tarragona': [], 'Valencia': []};\r\n      let all_dates = [];\r\n      data.forEach((element) => {\r\n        let date = parseDate(element._id);\r\n        let data = element.data;\r\n        const tmp_data = {\"Badajoz\": null, \"Sevilla\": null,\"Tarragona\": null, \"Valencia\": null};\r\n        if (data.length > 0){\r\n          data.forEach((onedata) =>{\r\n            tmp_data[onedata.market] = onedata.value\r\n          });\r\n          all_data[\"Badajoz\"].push(tmp_data[\"Badajoz\"])\r\n\t\t  all_data[\"Sevilla\"].push(tmp_data[\"Sevilla\"])\r\n\t\t  all_data[\"Tarragona\"].push(tmp_data[\"Tarragona\"])\r\n\t\t  all_data[\"Valencia\"].push(tmp_data[\"Valencia\"])\r\n          all_dates.push(date)\r\n        }\r\n      });\r\n      let base = this.state.chartData;\r\n      base.labels = all_dates;\r\n      base.datasets[0].data = all_data['Badajoz'];\r\n\t  base.datasets[1].data = all_data['Sevilla'];\r\n\t  base.datasets[2].data = all_data['Tarragona'];\r\n\t  base.datasets[3].data = all_data['Valencia'];\r\n      this.setState({\r\n        datatype: this.state.datatype,\r\n        chartData: base\r\n      });\r\n      //console.log(this.state.chartData)\r\n    })};\r\n\r\n\r\n  changeType(event) {\r\n    //console.log(\"change_type\");\r\n    this.setState({\r\n      datatype: event.currentTarget.value\r\n    }, () => {\r\n      this.getData()\r\n    })\r\n  }\r\n\r\n    handleStartDateChange(value){\r\n      this.setState({startDate: new Date(value)},()=>{\r\n        this.getData()\r\n      })\r\n\r\n    }\r\n    handleEndDateChange(value){\r\n      this.setState({endDate: new Date(value)},()=>{\r\n        this.getData()\r\n      })\r\n    }\r\n\r\n  render() {\r\n    const { title } = this.props;\r\n    return (\r\n      <Card small className=\"h-10\">\r\n        <CardHeader className=\"border-bottom\">\r\n          <h6 className=\"m-0\">{title}</h6>\r\n        </CardHeader>\r\n        <CardBody className=\"pt-0\">\r\n          <div className=\"border-bottom py-2 bg-light d-flex flex-row\">\r\n            <div sm=\"7\" className=\"d-flex mb-2 mb-sm-0 mr-auto\">\r\n              <RangeDatePicker startDate={this.state.startDate} endDate={this.state.endDate} handleEndDateChange={this.handleEndDateChange} handleStartDateChange={this.handleStartDateChange}/>\r\n            </div>\r\n            <div className=\"d-flex flex-row\">\r\n              <Button\r\n                size=\"sm\"\r\n                value=\"cáscara(Indica)\"\r\n                className={\"d-flex btn-white ml-auto mr-2 ml-sm-auto mt-3 mt-sm-0\" + (this.state.datatype === \"cáscara(Indica)\"? \" active\": \"\")}\r\n                onClick={this.changeType}\r\n              >\r\n                Cáscara (Indica)\r\n              </Button>\r\n              <Button\r\n                size=\"sm\"\r\n                value=\"cáscara(Japónica)\"\r\n                className={\"d-flex btn-white ml-auto mr-2 ml-sm-auto mt-3 mt-sm-0 \"+ (this.state.datatype === \"cáscara(Japónica)\"? \" active\": \"\")}\r\n                onClick={this.changeType}\r\n              >\r\n                Cáscara (Japónica)\r\n              </Button>\r\n\t\t\t  <Button\r\n                size=\"sm\"\r\n                value=\"blanco(Indica)\"\r\n                className={\"d-flex btn-white ml-auto mr-2 ml-sm-auto mt-3 mt-sm-0 \"+ (this.state.datatype === \"blanco(Indica)\"? \" active\": \"\")}\r\n                onClick={this.changeType}\r\n              >\r\n                Blanco (Indica)\r\n              </Button>\r\n\t\t\t  <Button\r\n                size=\"sm\"\r\n                value=\"blanco(Japónica)\"\r\n                className={\"d-flex btn-white ml-auto mr-2 ml-sm-auto mt-3 mt-sm-0 \"+ (this.state.datatype === \"blanco(Japónica)\"? \" active\": \"\")}\r\n                onClick={this.changeType}\r\n              >\r\n                Blanco (Japónica)\r\n              </Button>\r\n\t\t\t  <Button\r\n                size=\"sm\"\r\n                value=\"blancovaporizado\"\r\n                className={\"d-flex btn-white ml-auto mr-2 ml-sm-auto mt-3 mt-sm-0 \"+ (this.state.datatype === \"blancovaporizado\"? \" active\": \"\")}\r\n                onClick={this.changeType}\r\n              >\r\n                Blanco vaporizado\r\n              </Button>\r\n\t\t\t  <Button\r\n                size=\"sm\"\r\n                value=\"partido\"\r\n                className={\"d-flex btn-white ml-auto mr-2 ml-sm-auto mt-3 mt-sm-0 \"+ (this.state.datatype === \"partido\"? \" active\": \"\")}\r\n                onClick={this.changeType}\r\n              >\r\n                Partido\r\n              </Button>\r\n            </div>\r\n\r\n          </div>\r\n          <PriceGraph chartData={this.state.chartData} chartOptions={this.props.chartOptions} />\r\n        </CardBody>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nArrozGraph.propTypes = {\r\n  /**\r\n   * The component's title.\r\n   */\r\n  title: PropTypes.string,\r\n  /**\r\n   * The chart dataset.\r\n   */\r\n  chartData: PropTypes.object,\r\n  /**\r\n   * The Chart.js options.\r\n   */\r\n  chartOptions: PropTypes.object,\r\n\r\n  datatype: PropTypes.string\r\n};\r\n\r\nArrozGraph.defaultProps = {\r\n  datatype: \"cáscara(Indica)\",\r\n  title: \"Precios Medios en Mercados Representativos\",\r\n  chartOptions: {\r\n    responsive: true,\r\n    title: {\r\n      display: true,\r\n      position: 'left',\r\n      text: 'Euro/Tonelada'\r\n    },\r\n    legend: {\r\n      position: \"top\"\r\n    },\r\n    elements: {\r\n      line: {\r\n        // A higher value makes the line look skewed at this ratio.\r\n        tension: 0.3\r\n      },\r\n      point: {\r\n        radius: 0\r\n      }\r\n    },\r\n    scales: {\r\n      xAxes: [\r\n        {\r\n\r\n          ticks: {\r\n            padding: 15,\r\n            autoskip: true,\r\n            maxTicksLimit: 30\r\n            //callback(tick, index) {\r\n              // Jump every 7 values on the X axis labels to avoid clutter.\r\n            //  return index % 4 !== 0 ? null : tick;\r\n           // }\r\n          }\r\n        }\r\n      ],\r\n\r\n    },\r\n    hover: {\r\n      mode: \"nearest\",\r\n      intersect: false\r\n    },\r\n    tooltips: {\r\n      custom: false,\r\n      mode: \"nearest\",\r\n      intersect: false\r\n    }\r\n  },\r\n  chartData: {\r\n    labels: [],\r\n    datasets: [\r\n      {\r\n        label: \"Badajoz\",\r\n        fill: \"start\",\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(0,123,255,0.1)\",\r\n        \"borderColor\": \"rgba(0,123,255,1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgb(0,123,255)\",\r\n        \"borderWidth\": 1.5,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 3\r\n      },\r\n      {\r\n        \"label\": \"Sevilla\",\r\n        \"fill\": \"start\",\r\n        \"data\": [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(255,65,105,0.1)\",\r\n        \"borderColor\": \"rgba(255,65,105,1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(255,65,105,1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(255,65,105,1)\"\r\n\t  },\r\n\t  {\r\n        label: \"Tarragona\",\r\n        fill: \"start\",\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(234, 218, 77, 0.1)\",\r\n        \"borderColor\": \"rgba(234, 218, 77, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(234, 218, 77, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(234, 218, 77, 1)\"\r\n      },\r\n      {\r\n        label: \"Valencia\",\r\n        fill: \"start\",\r\n        data: [\r\n          0\r\n        ],\r\n        \"backgroundColor\": \"rgba(137, 234, 77, 0.1)\",\r\n        \"borderColor\": \"rgba(92, 201, 24, 1)\",\r\n        \"pointBackgroundColor\": \"#ffffff\",\r\n        \"pointHoverBackgroundColor\": \"rgba(92, 201, 24, 1)\",\r\n        \"borderDash\": [3, 3],\r\n        \"borderWidth\": 1,\r\n        \"pointRadius\": 0,\r\n        \"pointHoverRadius\": 2,\r\n        \"pointBorderColor\": \"rgba(92, 201, 24, 1)\"\r\n      },\r\n    ]\r\n  }\r\n};\r\n\r\nexport default ArrozGraph;\r\n","import SmallStats from \"../common/SmallStats\";\r\nimport React from \"react\";\r\nimport {Col, Row, Container} from \"shards-react\";\r\nimport PropTypes from \"prop-types\";\r\nimport moment from \"moment\";\r\nimport {getCerealData} from \"../../backend/cereal\";\r\nimport {\r\n\tDropdown,\r\n\tDropdownToggle,\r\n\tDropdownMenu,\r\n\tDropdownItem\r\n} from \"shards-react\";\r\n\r\nclass ArrozSumUp extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n\t  smallStats: this.props.smallStats,\r\n\t  open: false,\r\n\t  market: 'Badajoz'\r\n\t};\r\n\tthis.toggle = this.toggle.bind(this);\r\n\tthis.click = this.click.bind(this);\r\n\r\n  }\r\n\r\n  toggle() {\r\n    this.setState(prevState => {\r\n      return { open: !prevState.open };\r\n    });\r\n  }\r\n\r\n  getData(type, market, callback){\r\n    getCerealData({\"limit\": 4, \"type\": type, \"market\": market}, (data)=>{\r\n      //console.log(\"### Done\", type,  data);\r\n      if (data.length === 0){\r\n        callback([0,0,0,0])\r\n      }else{\r\n        const aggregateData = data.map((item) => {\r\n          return item.data[0].value\r\n        });\r\n        const aggregatedDates = data.map((item) =>{\r\n          return moment(item._id).format('DD-MM-YYYY');\r\n        });\r\n\r\n        callback(aggregateData, aggregatedDates)\r\n    }}\r\n      )\r\n  }\r\n\r\n  click(name){\r\n    let SmallStats = this.state.smallStats;\r\n    SmallStats.forEach((stats)=> {\r\n\t\tconst type = stats.label;\r\n\t\tthis.setState({market: name});\r\n        this.getData(type, name, (aggegatedata, aggregatedDates) =>{\r\n          stats.chartData.datasets[0].data = aggegatedata;\r\n          stats.chartData.labels = aggregatedDates;\r\n          //console.log(\"### Data\", aggegatedata, aggregatedDates);\r\n          let percentage = ((aggegatedata[aggegatedata.length - 1] - aggegatedata[aggegatedata.length - 2])/aggegatedata[aggegatedata.length - 1]*100);\r\n          stats.increase = percentage >= 0;\r\n          stats.decrease = percentage < 0;\r\n          stats.percentage = percentage.toFixed(2)+ \"%\";\r\n          stats.value = aggegatedata[aggegatedata.length - 1];\r\n          this.setState({smallStats: SmallStats}, () => {\r\n            //console.log(\"###State \", this.state.smallStats)\r\n          })\r\n        })\r\n\t})\r\n}\r\n\r\n\r\n  componentDidMount() {\r\n\r\n    let SmallStats = this.state.smallStats;\r\n    SmallStats.forEach((stats)=> {\r\n        const type = stats.label;\r\n        this.getData(type, \"Badajoz\", (aggegatedata, aggregatedDates) =>{\r\n          stats.chartData.datasets[0].data = aggegatedata;\r\n          stats.chartData.labels = aggregatedDates;\r\n          //console.log(\"### Data\", aggegatedata, aggregatedDates);\r\n          let percentage = ((aggegatedata[aggegatedata.length - 1] - aggegatedata[aggegatedata.length - 2])/aggegatedata[aggegatedata.length - 1]*100);\r\n          stats.increase = percentage >= 0;\r\n          stats.decrease = percentage < 0;\r\n          stats.percentage = percentage.toFixed(2)+ \"%\";\r\n          stats.value = aggegatedata[aggegatedata.length - 1];\r\n          this.setState({smallStats: SmallStats}, () => {\r\n            //console.log(\"###State \", this.state.smallStats)\r\n          })\r\n        })\r\n\r\n    })\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n\t\t<Container>\r\n\t\t<Row>\r\n\t\t<Dropdown open={this.state.open} toggle={this.toggle}>\r\n\t\t\t<DropdownToggle>{this.state.market}</DropdownToggle>\r\n\t\t\t<DropdownMenu>\r\n\t\t\t<DropdownItem onClick={() => this.click(\"Badajoz\")} >Badajoz</DropdownItem>\r\n\t\t\t<DropdownItem onClick={() => this.click(\"Sevilla\")}>Sevilla</DropdownItem>\r\n\t\t\t<DropdownItem onClick={() => this.click(\"Tarragona\")}>Tarragona</DropdownItem>\r\n\t\t\t<DropdownItem onClick={() => this.click(\"Valencia\")}>Valencia</DropdownItem>\r\n\t  </DropdownMenu>\r\n\t</Dropdown>\r\n\t</Row>\r\n\t<br></br>\r\n      <Row>\r\n        {this.state.smallStats.map((stats, idx) => (\r\n          <Col className=\"col-lg mb-4\" key={idx} {...stats.attrs}>\r\n            <SmallStats\r\n              id={`small-stats-${idx}`}\r\n              variation=\"1\"\r\n              chartData={stats.chartData}\r\n              chartLabels={stats.chartLabels}\r\n              label={stats.label}\r\n              value={stats.value}\r\n              percentage={stats.percentage}\r\n              increase={stats.increase}\r\n              decrease={stats.decrease}\r\n            />\r\n          </Col>\r\n        ))}\r\n      </Row>\r\n\t  </Container>\r\n    )\r\n  };\r\n}\r\n\r\nArrozSumUp.propTypes = {\r\n    /**\r\n     * Whether to hide the logo text, or not.\r\n     */\r\n    hideLogoText: PropTypes.bool\r\n  };\r\n  ArrozSumUp.defaultProps = {\r\n  smallStats: [\r\n    {\r\n      label: \"cáscara(Indica)\",\r\n      value: \"1.06\", //Set the latest value!\r\n      percentage: \"0%\", //Increase or decrease %\r\n      increase: true, //If increase\r\n      decrease: false, //If decrease, opposite to increase\r\n      chartLabels: [null, null, null, null], // [null]*n_data\r\n      attrs: { md: \"6\", sm: \"6\" },\r\n      chartData: {\r\n        datasets: [{\r\n          label: \"Price\",\r\n          fill: \"start\",\r\n          borderWidth: 1.5,\r\n          backgroundColor: \"rgba(0, 184, 216, 0.1)\",\r\n          borderColor: \"rgb(0, 184, 216)\",\r\n          data: [0,0,0,0]\r\n        }],\r\n        labels: [null, null, null, null]\r\n      }\r\n    },\r\n    {\r\n      label: \"cáscara(Japónica)\",\r\n      value: \"1.04\",\r\n      percentage: \"0%\",\r\n      increase: true,\r\n      attrs: { md: \"6\", sm: \"6\" },\r\n      chartData:\r\n        {\r\n          datasets: [\r\n            {\r\n            label: \"Price\",\r\n            fill: \"start\",\r\n            borderWidth: 1.5,\r\n            backgroundColor: \"rgba(23,198,113,0.1)\",\r\n            borderColor: \"rgb(23,198,113)\",\r\n            data: [0,0,0,0]\r\n          }],\r\n          labels: [null, null, null, null]\r\n        }\r\n\t},\r\n\t  {\r\n\t\tlabel: \"blanco(Indica)\",\r\n\t\tvalue: \"1.02\",\r\n\t\tpercentage: \"0%\",\r\n\t\tincrease: true,\r\n\t\tdecrease: false,\r\n\t\tattrs: { md: \"4\", sm: \"6\" },\r\n\t\tchartData:\r\n\t\t  {\r\n\t\t\tdatasets: [{\r\n\t\t\t  label: \"Price\",\r\n\t\t\t  fill: \"start\",\r\n\t\t\t  borderWidth: 1.5,\r\n\t\t\t  backgroundColor: \"rgba(255,180,0,0.1)\",\r\n\t\t\t  borderColor: \"rgb(255,180,0)\",\r\n\t\t\t  data: [0, 0, 0, 0]\r\n\t\t\t}],\r\n\t\t\tlabels: [null, null, null, null]\r\n\t\t  }\r\n\t  },\r\n\t  {\r\n\t\tlabel: \"blanco(Japónica)\",\r\n\t\tvalue: \"38.00\",\r\n\t\tpercentage: \"8.57%\",\r\n\t\tincrease: true,\r\n\t\tdecrease: false,\r\n\t\tattrs: { md: \"4\", sm: \"6\" },\r\n\t\tchartData:\r\n\t\t  {\r\n\t\t  datasets: [{\r\n\t\t\tlabel: \"Price\",\r\n\t\t\tfill: \"start\",\r\n\t\t\tborderWidth: 1.5,\r\n\t\t\tbackgroundColor: \"rgba(255,65,105,0.1)\",\r\n\t\t\tborderColor: \"rgb(255,65,105)\",\r\n\t\t\tdata: [0,0,0,0]\r\n\t\t  }],\r\n\t\t  labels: [null, null, null, null]\r\n\t\t  }\r\n\t  },\r\n\t  {\r\n\t\tlabel: \"blancovaporizado\",\r\n\t\tvalue: \"38.00\",\r\n\t\tpercentage: \"8.57%\",\r\n\t\tincrease: true,\r\n\t\tdecrease: false,\r\n\t\tattrs: { md: \"4\", sm: \"6\" },\r\n\t\tchartData:\r\n\t\t  {\r\n\t\t  datasets: [{\r\n\t\t\tlabel: \"Price\",\r\n\t\t\tfill: \"start\",\r\n\t\t\tborderWidth: 1.5,\r\n\t\t\tbackgroundColor: \"rgba(236, 8, 243 ,0.1)\",\r\n\t\t\tborderColor: \"rgb(236, 8, 243)\",\r\n\t\t\tdata: [0,0,0,0]\r\n\t\t  }],\r\n\t\t  labels: [null, null, null, null]\r\n\t\t  }\r\n\t  },\r\n\t  {\r\n\t\tlabel: \"partido\",\r\n\t\tvalue: \"38.00\",\r\n\t\tpercentage: \"8.57%\",\r\n\t\tincrease: true,\r\n\t\tdecrease: false,\r\n\t\tattrs: { md: \"4\", sm: \"6\" },\r\n\t\tchartData:\r\n\t\t  {\r\n\t\t  datasets: [{\r\n\t\t\tlabel: \"Price\",\r\n\t\t\tfill: \"start\",\r\n\t\t\tborderWidth: 1.5,\r\n\t\t\tbackgroundColor: \"rgba(8, 47, 243,0.1)\",\r\n\t\t\tborderColor: \"rgb(8, 47, 243)\",\r\n\t\t\tdata: [0,0,0,0]\r\n\t\t  }],\r\n\t\t  labels: [null, null, null, null]\r\n\t\t  }\r\n\t  },\r\n  ]\r\n};\r\nexport default ArrozSumUp;\r\n","import React from \"react\";\r\nimport { Container, Row, Col, Button } from \"shards-react\";\r\nimport {Link} from 'react-router-dom';\r\n\r\nimport PageTitle from \"../components/common/PageTitle\";\r\nimport ArrozGraph from \"../components/layout/overview/ArrozGraph\";\r\nimport ArrozSumUp from \"../components/graphs/ArrozSumUp\";\r\n\r\n\r\n\r\n\r\nconst ArrozStats = () => (\r\n  <Container fluid className=\"main-content-container px-4\">\r\n    {/* Page Header */}\r\n    <br></br>\r\n\t<Link to={{\r\n\t\tpathname: '/historicCereal',\r\n\t\tstate: {\r\n\t\t\tcereal: 'ARROZ'\r\n\t\t}\r\n\t}}>\r\n    <Button className=\"float-right\" size=\"lg\" theme=\"success\" >Histórico de precios</Button>\r\n    </Link>\r\n\r\n    <Row noGutters className=\"page-header py-4\">\r\n      <PageTitle title=\"ARROZ\" subtitle=\"\" className=\"text-sm-left mb-3\" />\r\n    </Row>\r\n\r\n\t<ArrozSumUp/>\r\n\r\n    <Row>\r\n      {/* Main Graph */}\r\n      <Col lg=\"12\" md=\"12\" sm=\"12\" className=\"mb-4\">\r\n\t\t<ArrozGraph/>\r\n      </Col>\r\n    </Row>\r\n  </Container>\r\n);\r\n\r\nexport default ArrozStats;","import React from \"react\";\nimport { Container, Row, Col, Card, CardHeader, CardBody } from \"shards-react\";\n\nimport PageTitle from \"../components/common/PageTitle\";\nimport {getHistoryData} from \"../backend/historic\";\nimport moment from \"moment\";\nimport { MDBDataTable } from 'mdbreact';\n\n\n\nclass HistoricPork extends React.Component{\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: {}\n    };\n  }\n\n  getData(){\n    getHistoryData({},(data) => {\n      let all_data = {};\n      console.log(data[0]);\n      data.forEach((element) => {\n        let date = moment(element._id).format('YYYY-MM-DD');\n        let data = element.data;\n        if (data.length > 0){\n          data.forEach((onedata) =>{\n            if (!(onedata.type in all_data)){\n              all_data[onedata.type] = {}\n            }\n            if(!(date in all_data[onedata.type])){\n              all_data[onedata.type][date]={};\n            }\n              all_data[onedata.type][date][onedata.market] = onedata.value\n\n          });\n        }\n      });\n      const final = {};\n      for(let key in all_data){\n        final[key]= []\n        for (let key2 in all_data[key]){\n          if (all_data[key].hasOwnProperty(key2))\n          final[key].push({\"date\": key2, ...all_data[key][key2]})\n        }\n      }\n      this.setState({data: final})\n    })}\n\n  componentDidMount() {\n    this.getData()\n\n  }\n\n  render(){\n\n\n\n\n    //console.log(\"STATE\", this.state);\n    return (<Container fluid className=\"main-content-container px-4\">\n        {/* Page Header */}\n        <Row noGutters className=\"page-header py-4\">\n          <PageTitle sm=\"4\" title=\"PORCINO\" subtitle=\"Histórico de precios\" className=\"text-sm-left\" />\n        </Row>\n        { Object.entries(this.state.data).map(([key, value], index) =>{\n          //console.log(\"+++\", this.state.data[key])\n          if(key === 'Selecto' || key === 'Normal' || key === 'Graso' ){\n            return(\n              <Row key={`Row-${index}`}>\n              <Col>\n                <Card small className=\"mb-4\">\n                <CardHeader className=\"border-bottom\">\n                <h6 className=\"m-0\">{key}</h6>\n                </CardHeader>\n              <CardBody className=\"p-0 pb-3\">\n                <MDBDataTable className={\"m-2\"}\n                scrollY\n                maxHeight=\"40vh\"\n                striped\n                hover\n                paging={false}\n                data={{\n                columns: [\n                  {\n                  label: 'Fecha',\n                  field: 'date',\n                  sort: 'asc',\n                  width: 250\n                  },\n                  {\n                    label: 'Binefar',\n                    field: 'Binefar',\n                    sort: 'asc',\n                    width: 200\n                  },\n                  {\n                    label: 'Lerida',\n                    field: 'Lerida',\n                    sort: 'asc',\n                    width: 200\n                  },\n                  {\n                    label: 'Huesca',\n                    field: 'Huesca',\n                    sort: 'asc',\n                    width: 200\n                  },\n                  {\n                    label: 'Murcia',\n                    field: 'Murcia',\n                    sort: 'asc',\n                    width: 200\n                  },\n                  {\n                    label: 'Pontevedra',\n                    field: 'Pontevedra',\n                    sort: 'asc',\n                    width: 200\n                  },\n                  {\n                    label: 'Salamanca',\n                    field: 'Salamanca',\n                    sort: 'asc',\n                    width: 200\n                  },\n                  {\n                    label: 'Segovia',\n                    field: 'Segovia',\n                    sort: 'asc',\n                    width: 200\n                  }\n                ],\n                rows: value\n                }}\n                />\n              </CardBody>\n              </Card>\n              </Col>\n              </Row>)\n            }\n            \n        })}\n\n    </Container>\n    )\n  }\n}\n\n\nexport default HistoricPork;\n","import React from \"react\";\r\nimport { Container, Row, Col, Card, CardHeader, CardBody } from \"shards-react\";\r\n\r\nimport PageTitle from \"../components/common/PageTitle\";\r\nimport {getCerealData, getCerealMarkets} from \"../backend/cereal\";\r\n\r\nimport moment from \"moment\";\r\n\r\nimport { MDBDataTable } from 'mdbreact';\r\n\r\n\r\n\r\nclass HistoricCereal extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      data: {},\r\n      markets: [],\r\n      cereal: ''\r\n    };\r\n  }\r\n\r\n  getData(cereal){\r\n    getCerealData({\"cereal\": cereal},(data) => {\r\n      let all_data = {};\r\n      data.forEach((element) => {\r\n        let date = moment(element._id).format('YYYY-MM-DD');\r\n        let data = element.data;\r\n\r\n        if (data.length > 0){\r\n          data.forEach((onedata) =>{\r\n            if (!(onedata.type in all_data)){\r\n              all_data[onedata.type] = {}\r\n            }\r\n            if(!(date in all_data[onedata.type])){\r\n              all_data[onedata.type][date]={};\r\n            }\r\n              all_data[onedata.type][date][onedata.market] = onedata.value\r\n\r\n          });\r\n        }\r\n      });\r\n      const final = {};\r\n      for(let key in all_data){\r\n        final[key]= []\r\n        for (let key2 in all_data[key]){\r\n          if (all_data[key].hasOwnProperty(key2))\r\n          final[key].push({\"date\": key2, ...all_data[key][key2]})\r\n        }\r\n      }\r\n      this.setState({data: final, cereal: cereal})\r\n\r\n      getCerealMarkets({\"cereal\": cereal},(data) => {\r\n        this.setState({markets: data})\r\n      })\r\n  })}\r\n\r\n  componentDidMount() {\r\n    this.setState({cereal: this.props.location.state.cereal});\r\n    this.getData(this.props.location.state.cereal);\r\n  }\r\n\r\n  createMarkets(){\r\n\r\n  }\r\n\r\n  render(){\r\n    var market = [];\r\n    market.push(\r\n      {\r\n        label: 'Fecha',\r\n        field: 'date',\r\n        sort: 'asc',\r\n        width: 150\r\n      }\r\n    )\r\n    if(this.state.cereal === \"ARROZ\"){\r\n      this.state.markets.map((m) =>\r\n        market.push(\r\n          {\r\n            label: m,\r\n            field: m,\r\n            sort: 'asc',\r\n            width: 150\r\n          }\r\n        )\r\n      )\r\n    }\r\n    else{\r\n      this.state.markets.map((m) =>\r\n      market.push(\r\n        {\r\n          label: m.slice(0, 2),\r\n          field: m,\r\n          sort: 'asc',\r\n          width: 150\r\n        }\r\n      )\r\n    )\r\n    }\r\n    \r\n    \r\n    return (<Container fluid className=\"main-content-container px-4\">\r\n        {/* Page Header */}\r\n        <Row noGutters className=\"page-header py-4\">\r\n          <PageTitle sm=\"4\" title={this.state.cereal} subtitle=\"Histórico de precios\" className=\"text-sm-left\" />\r\n        </Row>\r\n        { Object.entries(this.state.data).map(([key, value], index) =>{\r\n          return(\r\n          <Row key={`Row-${index}`}>\r\n          <Col>\r\n            <Card small className=\"mb-4\">\r\n            <CardHeader className=\"border-bottom\">\r\n            <h6 className=\"m-0\">{key}</h6>\r\n            </CardHeader>\r\n          <CardBody className=\"p-0 pb-3\">\r\n            <MDBDataTable className={\"m-2\"}\r\n              scrollY\r\n              maxHeight=\"40vh\"\r\n              striped\r\n              hover\r\n              paging={true}\r\n              data={{\r\n              columns: market,\r\n              rows: value\r\n            }}\r\n            />\r\n          </CardBody>\r\n          </Card>\r\n          </Col>\r\n          </Row>)\r\n        })}\r\n\r\n    </Container>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default HistoricCereal;\r\n","import React, {useState} from \"react\";\nimport { Container, Button } from \"shards-react\";\nimport { Redirect } from 'react-router-dom'\n\nconst Errors = () => {\n  const [redirect, setredirect] = useState(false);\n  if(redirect) return  <Redirect to=\"/\"/>;\n  return (\n    <Container fluid className=\"main-content-container px-4 pb-4\">\n      <div className=\"error\">\n        <div className=\"error__content\">\n          <h2>500</h2>\n          <h3>Something went wrong!</h3>\n          <p>There was a problem on our end. Please try again later.</p>\n          <Button pill onClick={()=> setredirect(true)}>&larr; Main page</Button>\n        </div>\n      </div>\n    </Container>\n  )\n};\n\nexport default Errors;\n","import { createBrowserHistory } from \"history\";\nexport default createBrowserHistory();","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport routes from \"./routes\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./shards-dashboard/styles/shards-dashboards.1.1.0.css\";\nimport history from \"./history\";\nimport { registerLocale } from 'react-datepicker';\nimport es from 'date-fns/locale/es'\n\nregisterLocale('es', es)\n\n\nexport default () => {\n  return (\n\n      <Router basename={\"\"}>\n              <Switch>\n                {routes().map((route, index) => {\n                  return (\n                    <Route\n                      key={index}\n                      path={route.path}\n                      exact={route.exact}\n                      history={history}\n                      component={(props) => {\n                        return (\n                          <route.layout {...props}>\n                            <route.component {...props}/>\n                          </route.layout>\n                        );\n                      }\n                      }\n                    />\n                  );\n                })}\n              </Switch>\n    </Router>\n\n)}\n;\n","import React from \"react\";\nimport { Redirect } from \"react-router-dom\";\n\n// Layout Types\nimport DefaultLayout from \"./layouts/Default\";\n\n// Route Views\nimport PorkStats from \"./views/PorkStats\";\nimport EuropePorkStats from \"./views/EuropePorkStats\";\nimport TrigoStats from \"./views/TrigoStats\";\nimport CebadaStats from \"./views/CebadaStats\";\nimport MaizStats from \"./views/MaizStats\";\nimport ArrozStats from \"./views/ArrozStats\";\nimport HistoricPork from \"./views/HistoricPork\";\nimport HistoricCereal from \"./views/HistoricCereal\";\nimport Errors from \"./views/Errors\";\n\n//TODO: maybe depending on user\nexport default () => {\n      return [\n        {\n          path: \"/\",\n          exact: true,\n          layout: DefaultLayout,\n          component: () => <Redirect to=\"/porkStats\" />\n        },\n        {\n          path: \"/porkStats\",\n          layout: DefaultLayout,\n          component: PorkStats\n        },\n        {\n          path: \"/europePork\",\n          layout: DefaultLayout,\n          component: EuropePorkStats\n        },\n        {\n          path: \"/historicPork\",\n          layout: DefaultLayout,\n          component: HistoricPork\n        },\n        {\n          path: \"/trigo\",\n          layout: DefaultLayout,\n          component: TrigoStats\n        },\n        {\n          path: \"/cebada\",\n          layout: DefaultLayout,\n          component: CebadaStats\n        },\n        {\n          path: \"/arroz\",\n          layout: DefaultLayout,\n          component: ArrozStats\n        },\n        {\n          path: \"/maiz\",\n          layout: DefaultLayout,\n          component: MaizStats\n        },\n        {\n          path: \"/historicCereal\",\n          layout: DefaultLayout,\n          component: HistoricCereal\n        },\n        {\n          layout: DefaultLayout,\n          component: Errors\n        }\n      ];\n\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\n// noinspection JSUnusedGlobalSymbols\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister().resolve();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}